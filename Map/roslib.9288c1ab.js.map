{"version":3,"sources":["node_modules/process/browser.js","roslib.js"],"names":["process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","call","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","nextTick","args","Array","arguments","i","push","Item","array","prototype","apply","title","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","r","n","t","o","f","c","require","u","a","code","p","global","undefined","POW_2_24","Math","pow","POW_2_32","POW_2_53","encode","value","data","ArrayBuffer","dataView","DataView","lastLength","offset","ensureSpace","newByteLength","byteLength","requiredLength","oldDataView","uint32count","setUint32","getUint32","write","writeFloat64","setFloat64","writeUint8","setUint8","writeUint8Array","writeUint16","setUint16","writeUint32","writeUint64","low","high","writeTypeAndLength","type","encodeItem","floor","utf8data","charCode","charCodeAt","isArray","Uint8Array","keys","Object","key","slice","ret","retView","getUint8","decode","tagger","simpleValue","read","readArrayBuffer","readFloat16","tempArrayBuffer","tempDataView","readUint16","sign","exponent","fraction","getFloat32","readFloat32","readFloat64","getFloat64","readUint8","getUint16","readUint32","readUint64","readBreak","readLength","additionalInformation","readIndefiniteStringLength","majorType","initialByte","appendUtf16data","utf16data","decodeItem","elements","fullArrayLength","fullArray","fullArrayOffset","set","String","fromCharCode","retArray","retObject","obj","define","amd","CBOR","_isArray","toString","defaultMaxListeners","init","_events","_conf","configure","conf","delimiter","_maxListeners","maxListeners","wildcard","newListener","verboseMemoryLeak","listenerTree","logPossibleMemoryLeak","count","eventName","errorMsg","emitWarning","emitter","console","error","trace","EventEmitter","EventEmitter2","searchListenerTree","handlers","tree","leaf","branch","xTree","xxTree","isolatedBranch","endReached","typeLength","currentType","nextType","_listeners","hasOwnProperty","growListenerTree","listener","split","shift","warned","setMaxListeners","event","fn","_once","prepend","_many","many","ttl","prependMany","self","_origin","_on","al","l","j","handler","_all","ns","emitAsync","Promise","resolve","promises","reject","all","onAny","_onAny","prependAny","unshift","leafs","iLeaf","position","splice","recursivelyGarbageCollect","root","Function","offAny","fns","eventNames","listenerCount","listenersAny","window","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","shouldUseNative","assign","test1","getOwnPropertyNames","test2","order2","map","join","test3","forEach","letter","err","target","source","from","to","symbols","s","bundleFn","sources","cache","stringify","JSON","options","wkey","cacheKeys","exp","default","random","wcache","skey","scache","workerSources","resolveSources","depPath","depKey","src","URL","webkitURL","mozURL","msURL","blob","Blob","bare","workerUrl","createObjectURL","worker","Worker","objectURL","ROSLIB","REVISION","Topic","Message","ActionClient","that","ros","serverName","actionName","omitFeedback","omitStatus","omitResult","goals","receivedStatus","feedbackListener","messageType","statusListener","resultListener","goalTopic","cancelTopic","advertise","subscribe","statusMessage","status_list","status","goal","goal_id","id","feedbackMessage","feedback","resultMessage","result","__proto__","cancel","cancelMessage","publish","dispose","unadvertise","unsubscribe","ActionListener","goalListener","goalMessage","Goal","actionClient","isFinished","date","Date","goalID","getTime","stamp","secs","nsecs","send","SimpleActionServer","feedbackPublisher","statusPublisher","resultPublisher","cancelListener","header","frame_id","currentGoal","nextGoal","isEarlier","t1","t2","statusInterval","setInterval","currentTime","round","setSucceeded","result2","sendFeedback","feedback2","setPreempted","Ros","mixin","action","values","Service","ServiceRequest","Param","get","callback","paramClient","serviceType","request","callService","parse","delete","WebSocket","WorkerSocket","socketAdapter","socket","idCounter","isConnected","transportLibrary","transportOptions","groovyCompatibility","url","connect","io","onopen","onmessage","onclose","onerror","constructor","createDataChannel","readyState","CLOSED","sock","binaryType","close","authenticate","mac","client","dest","rand","level","end","auth","op","callOnConnection","message","messageJson","msg","setStatusLevel","levelMsg","getActionServers","failedCallback","action_servers","getTopics","topicsClient","getTopicsForType","topicType","topicsForTypeClient","topics","getServices","servicesClient","services","getServicesForType","servicesForTypeClient","getServiceRequestDetails","serviceTypeClient","getServiceResponseDetails","getNodes","nodesClient","nodes","getNodeDetails","node","subscribing","publishing","getParams","paramsClient","names","getTopicType","topic","topicTypeClient","getServiceType","service","getMessageDetails","messageDetailClient","typedefs","decodeTypeDefs","defs","decodeTypeDefsRec","theType","hints","typeDefDict","fieldnames","arrayLen","fieldarraylen","fieldName","fieldType","fieldtypes","indexOf","sub","subResult","ServiceResponse","isAdvertised","_serviceCallback","serviceCallId","_serviceResponse","bind","rosbridgeRequest","response","success","decompressPng","typedArrayTagger","BSON","bson","SocketAdapter","handleMessage","handlePng","decodeBSON","reader","FileReader","onload","uint8Array","deserialize","readAsArrayBuffer","onOpen","onClose","onError","onMessage","decoded","compression","throttle_rate","latch","queue_size","queue_length","reconnect_on_close","callForSubscribeAndAdvertise","waitForReconnect","reconnectFunc","_messageCallback","subscribeId","advertiseId","core","Vector3","Quaternion","Pose","orientation","applyTransform","tf","multiplyQuaternion","rotation","add","translation","tmp","clone","multiply","pose","getInverse","inverse","invert","x","y","z","w","conjugate","norm","sqrt","normalize","q","newX","newY","newZ","newW","Transform","v","subtract","ix","iy","iz","iw","classes","features","className","Class","TFClient","fixedFrame","angularThres","transThres","rate","updateDelay","seconds","topicTimeout","repubServiceName","currentTopic","frameInfos","republisherUpdateRequested","serviceClient","processTFArray","transforms","transform","frameID","child_frame_id","substring","info","cbs","cb","updateGoal","source_frames","target_frame","angular_thres","trans_thres","processResponse","topic_name","idx","UrdfTypes","UrdfBox","dimension","URDF_BOX","xyz","xml","getAttribute","parseFloat","UrdfColor","rgba","g","b","UrdfCylinder","URDF_CYLINDER","radius","UrdfJoint","parents","getElementsByTagName","parent","children","child","limits","minval","maxval","origins","origin","rpy","roll","pitch","yaw","phi","the","psi","sin","cos","UrdfVisual","UrdfLink","visuals","UrdfMaterial","textureFilename","color","textures","colors","isLink","UrdfMesh","scale","URDF_MESH","filename","DOMParser","XPATH_FIRST_ORDERED_NODE_TYPE","UrdfModel","xmlDoc","string","materials","links","joints","parser","parseFromString","robotXml","documentElement","childNodes","tagName","material","warn","link","mat","joint","UrdfSphere","URDF_SPHERE","geometry","geoms","geom","shape","nodeType","nodeName","UPPER32","warnedPrecision","warnPrecision","decodeUint64LE","bytes","byteLen","byteOffset","arrLen","buffer","uint32View","Uint32Array","arr","si","lo","hi","decodeInt64LE","int32View","Int32Array","decodeNativeArray","ArrayType","nativeArrayTypes","Uint16Array","Int8Array","Int16Array","Float32Array","Float64Array","conversionArrayTypes","cborTypedArrayTagger","tag","arrayType","Canvas","document","createElement","Image","image","canvas","context","getContext","width","height","imageSmoothingEnabled","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","drawImage","imageData","getImageData","jsonData","DOMImplementation","XMLSerializer","work","workerSocketImpl","uri","socket_","addEventListener","handleWorkerMessage_","postMessage","ev","handleSocketMessage","handleSocketControl"],"mappings":"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","file":"roslib.9288c1ab.js","sourceRoot":"..","sourcesContent":["// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n/*\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2014 Patrick Gansterer <paroga@paroga.com>\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n * SOFTWARE.\r\n */\r\n\r\n(function(global, undefined) { \"use strict\";\r\nvar POW_2_24 = Math.pow(2, -24),\r\n    POW_2_32 = Math.pow(2, 32),\r\n    POW_2_53 = Math.pow(2, 53);\r\n\r\nfunction encode(value) {\r\n  var data = new ArrayBuffer(256);\r\n  var dataView = new DataView(data);\r\n  var lastLength;\r\n  var offset = 0;\r\n\r\n  function ensureSpace(length) {\r\n    var newByteLength = data.byteLength;\r\n    var requiredLength = offset + length;\r\n    while (newByteLength < requiredLength)\r\n      newByteLength *= 2;\r\n    if (newByteLength !== data.byteLength) {\r\n      var oldDataView = dataView;\r\n      data = new ArrayBuffer(newByteLength);\r\n      dataView = new DataView(data);\r\n      var uint32count = (offset + 3) >> 2;\r\n      for (var i = 0; i < uint32count; ++i)\r\n        dataView.setUint32(i * 4, oldDataView.getUint32(i * 4));\r\n    }\r\n\r\n    lastLength = length;\r\n    return dataView;\r\n  }\r\n  function write() {\r\n    offset += lastLength;\r\n  }\r\n  function writeFloat64(value) {\r\n    write(ensureSpace(8).setFloat64(offset, value));\r\n  }\r\n  function writeUint8(value) {\r\n    write(ensureSpace(1).setUint8(offset, value));\r\n  }\r\n  function writeUint8Array(value) {\r\n    var dataView = ensureSpace(value.length);\r\n    for (var i = 0; i < value.length; ++i)\r\n      dataView.setUint8(offset + i, value[i]);\r\n    write();\r\n  }\r\n  function writeUint16(value) {\r\n    write(ensureSpace(2).setUint16(offset, value));\r\n  }\r\n  function writeUint32(value) {\r\n    write(ensureSpace(4).setUint32(offset, value));\r\n  }\r\n  function writeUint64(value) {\r\n    var low = value % POW_2_32;\r\n    var high = (value - low) / POW_2_32;\r\n    var dataView = ensureSpace(8);\r\n    dataView.setUint32(offset, high);\r\n    dataView.setUint32(offset + 4, low);\r\n    write();\r\n  }\r\n  function writeTypeAndLength(type, length) {\r\n    if (length < 24) {\r\n      writeUint8(type << 5 | length);\r\n    } else if (length < 0x100) {\r\n      writeUint8(type << 5 | 24);\r\n      writeUint8(length);\r\n    } else if (length < 0x10000) {\r\n      writeUint8(type << 5 | 25);\r\n      writeUint16(length);\r\n    } else if (length < 0x100000000) {\r\n      writeUint8(type << 5 | 26);\r\n      writeUint32(length);\r\n    } else {\r\n      writeUint8(type << 5 | 27);\r\n      writeUint64(length);\r\n    }\r\n  }\r\n  \r\n  function encodeItem(value) {\r\n    var i;\r\n\r\n    if (value === false)\r\n      return writeUint8(0xf4);\r\n    if (value === true)\r\n      return writeUint8(0xf5);\r\n    if (value === null)\r\n      return writeUint8(0xf6);\r\n    if (value === undefined)\r\n      return writeUint8(0xf7);\r\n  \r\n    switch (typeof value) {\r\n      case \"number\":\r\n        if (Math.floor(value) === value) {\r\n          if (0 <= value && value <= POW_2_53)\r\n            return writeTypeAndLength(0, value);\r\n          if (-POW_2_53 <= value && value < 0)\r\n            return writeTypeAndLength(1, -(value + 1));\r\n        }\r\n        writeUint8(0xfb);\r\n        return writeFloat64(value);\r\n\r\n      case \"string\":\r\n        var utf8data = [];\r\n        for (i = 0; i < value.length; ++i) {\r\n          var charCode = value.charCodeAt(i);\r\n          if (charCode < 0x80) {\r\n            utf8data.push(charCode);\r\n          } else if (charCode < 0x800) {\r\n            utf8data.push(0xc0 | charCode >> 6);\r\n            utf8data.push(0x80 | charCode & 0x3f);\r\n          } else if (charCode < 0xd800) {\r\n            utf8data.push(0xe0 | charCode >> 12);\r\n            utf8data.push(0x80 | (charCode >> 6)  & 0x3f);\r\n            utf8data.push(0x80 | charCode & 0x3f);\r\n          } else {\r\n            charCode = (charCode & 0x3ff) << 10;\r\n            charCode |= value.charCodeAt(++i) & 0x3ff;\r\n            charCode += 0x10000;\r\n\r\n            utf8data.push(0xf0 | charCode >> 18);\r\n            utf8data.push(0x80 | (charCode >> 12)  & 0x3f);\r\n            utf8data.push(0x80 | (charCode >> 6)  & 0x3f);\r\n            utf8data.push(0x80 | charCode & 0x3f);\r\n          }\r\n        }\r\n\r\n        writeTypeAndLength(3, utf8data.length);\r\n        return writeUint8Array(utf8data);\r\n\r\n      default:\r\n        var length;\r\n        if (Array.isArray(value)) {\r\n          length = value.length;\r\n          writeTypeAndLength(4, length);\r\n          for (i = 0; i < length; ++i)\r\n            encodeItem(value[i]);\r\n        } else if (value instanceof Uint8Array) {\r\n          writeTypeAndLength(2, value.length);\r\n          writeUint8Array(value);\r\n        } else {\r\n          var keys = Object.keys(value);\r\n          length = keys.length;\r\n          writeTypeAndLength(5, length);\r\n          for (i = 0; i < length; ++i) {\r\n            var key = keys[i];\r\n            encodeItem(key);\r\n            encodeItem(value[key]);\r\n          }\r\n        }\r\n    }\r\n  }\r\n  \r\n  encodeItem(value);\r\n\r\n  if (\"slice\" in data)\r\n    return data.slice(0, offset);\r\n  \r\n  var ret = new ArrayBuffer(offset);\r\n  var retView = new DataView(ret);\r\n  for (var i = 0; i < offset; ++i)\r\n    retView.setUint8(i, dataView.getUint8(i));\r\n  return ret;\r\n}\r\n\r\nfunction decode(data, tagger, simpleValue) {\r\n  var dataView = new DataView(data);\r\n  var offset = 0;\r\n  \r\n  if (typeof tagger !== \"function\")\r\n    tagger = function(value) { return value; };\r\n  if (typeof simpleValue !== \"function\")\r\n    simpleValue = function() { return undefined; };\r\n\r\n  function read(value, length) {\r\n    offset += length;\r\n    return value;\r\n  }\r\n  function readArrayBuffer(length) {\r\n    return read(new Uint8Array(data, offset, length), length);\r\n  }\r\n  function readFloat16() {\r\n    var tempArrayBuffer = new ArrayBuffer(4);\r\n    var tempDataView = new DataView(tempArrayBuffer);\r\n    var value = readUint16();\r\n\r\n    var sign = value & 0x8000;\r\n    var exponent = value & 0x7c00;\r\n    var fraction = value & 0x03ff;\r\n    \r\n    if (exponent === 0x7c00)\r\n      exponent = 0xff << 10;\r\n    else if (exponent !== 0)\r\n      exponent += (127 - 15) << 10;\r\n    else if (fraction !== 0)\r\n      return fraction * POW_2_24;\r\n    \r\n    tempDataView.setUint32(0, sign << 16 | exponent << 13 | fraction << 13);\r\n    return tempDataView.getFloat32(0);\r\n  }\r\n  function readFloat32() {\r\n    return read(dataView.getFloat32(offset), 4);\r\n  }\r\n  function readFloat64() {\r\n    return read(dataView.getFloat64(offset), 8);\r\n  }\r\n  function readUint8() {\r\n    return read(dataView.getUint8(offset), 1);\r\n  }\r\n  function readUint16() {\r\n    return read(dataView.getUint16(offset), 2);\r\n  }\r\n  function readUint32() {\r\n    return read(dataView.getUint32(offset), 4);\r\n  }\r\n  function readUint64() {\r\n    return readUint32() * POW_2_32 + readUint32();\r\n  }\r\n  function readBreak() {\r\n    if (dataView.getUint8(offset) !== 0xff)\r\n      return false;\r\n    offset += 1;\r\n    return true;\r\n  }\r\n  function readLength(additionalInformation) {\r\n    if (additionalInformation < 24)\r\n      return additionalInformation;\r\n    if (additionalInformation === 24)\r\n      return readUint8();\r\n    if (additionalInformation === 25)\r\n      return readUint16();\r\n    if (additionalInformation === 26)\r\n      return readUint32();\r\n    if (additionalInformation === 27)\r\n      return readUint64();\r\n    if (additionalInformation === 31)\r\n      return -1;\r\n    throw \"Invalid length encoding\";\r\n  }\r\n  function readIndefiniteStringLength(majorType) {\r\n    var initialByte = readUint8();\r\n    if (initialByte === 0xff)\r\n      return -1;\r\n    var length = readLength(initialByte & 0x1f);\r\n    if (length < 0 || (initialByte >> 5) !== majorType)\r\n      throw \"Invalid indefinite length element\";\r\n    return length;\r\n  }\r\n\r\n  function appendUtf16data(utf16data, length) {\r\n    for (var i = 0; i < length; ++i) {\r\n      var value = readUint8();\r\n      if (value & 0x80) {\r\n        if (value < 0xe0) {\r\n          value = (value & 0x1f) <<  6\r\n                | (readUint8() & 0x3f);\r\n          length -= 1;\r\n        } else if (value < 0xf0) {\r\n          value = (value & 0x0f) << 12\r\n                | (readUint8() & 0x3f) << 6\r\n                | (readUint8() & 0x3f);\r\n          length -= 2;\r\n        } else {\r\n          value = (value & 0x0f) << 18\r\n                | (readUint8() & 0x3f) << 12\r\n                | (readUint8() & 0x3f) << 6\r\n                | (readUint8() & 0x3f);\r\n          length -= 3;\r\n        }\r\n      }\r\n\r\n      if (value < 0x10000) {\r\n        utf16data.push(value);\r\n      } else {\r\n        value -= 0x10000;\r\n        utf16data.push(0xd800 | (value >> 10));\r\n        utf16data.push(0xdc00 | (value & 0x3ff));\r\n      }\r\n    }\r\n  }\r\n\r\n  function decodeItem() {\r\n    var initialByte = readUint8();\r\n    var majorType = initialByte >> 5;\r\n    var additionalInformation = initialByte & 0x1f;\r\n    var i;\r\n    var length;\r\n\r\n    if (majorType === 7) {\r\n      switch (additionalInformation) {\r\n        case 25:\r\n          return readFloat16();\r\n        case 26:\r\n          return readFloat32();\r\n        case 27:\r\n          return readFloat64();\r\n      }\r\n    }\r\n\r\n    length = readLength(additionalInformation);\r\n    if (length < 0 && (majorType < 2 || 6 < majorType))\r\n      throw \"Invalid length\";\r\n\r\n    switch (majorType) {\r\n      case 0:\r\n        return length;\r\n      case 1:\r\n        return -1 - length;\r\n      case 2:\r\n        if (length < 0) {\r\n          var elements = [];\r\n          var fullArrayLength = 0;\r\n          while ((length = readIndefiniteStringLength(majorType)) >= 0) {\r\n            fullArrayLength += length;\r\n            elements.push(readArrayBuffer(length));\r\n          }\r\n          var fullArray = new Uint8Array(fullArrayLength);\r\n          var fullArrayOffset = 0;\r\n          for (i = 0; i < elements.length; ++i) {\r\n            fullArray.set(elements[i], fullArrayOffset);\r\n            fullArrayOffset += elements[i].length;\r\n          }\r\n          return fullArray;\r\n        }\r\n        return readArrayBuffer(length);\r\n      case 3:\r\n        var utf16data = [];\r\n        if (length < 0) {\r\n          while ((length = readIndefiniteStringLength(majorType)) >= 0)\r\n            appendUtf16data(utf16data, length);\r\n        } else\r\n          appendUtf16data(utf16data, length);\r\n        return String.fromCharCode.apply(null, utf16data);\r\n      case 4:\r\n        var retArray;\r\n        if (length < 0) {\r\n          retArray = [];\r\n          while (!readBreak())\r\n            retArray.push(decodeItem());\r\n        } else {\r\n          retArray = new Array(length);\r\n          for (i = 0; i < length; ++i)\r\n            retArray[i] = decodeItem();\r\n        }\r\n        return retArray;\r\n      case 5:\r\n        var retObject = {};\r\n        for (i = 0; i < length || length < 0 && !readBreak(); ++i) {\r\n          var key = decodeItem();\r\n          retObject[key] = decodeItem();\r\n        }\r\n        return retObject;\r\n      case 6:\r\n        return tagger(decodeItem(), length);\r\n      case 7:\r\n        switch (length) {\r\n          case 20:\r\n            return false;\r\n          case 21:\r\n            return true;\r\n          case 22:\r\n            return null;\r\n          case 23:\r\n            return undefined;\r\n          default:\r\n            return simpleValue(length);\r\n        }\r\n    }\r\n  }\r\n\r\n  var ret = decodeItem();\r\n  if (offset !== data.byteLength)\r\n    throw \"Remaining bytes\";\r\n  return ret;\r\n}\r\n\r\nvar obj = { encode: encode, decode: decode };\r\n\r\nif (typeof define === \"function\" && define.amd)\r\n  define(\"cbor/cbor\", obj);\r\nelse if (typeof module !== 'undefined' && module.exports)\r\n  module.exports = obj;\r\nelse if (!global.CBOR)\r\n  global.CBOR = obj;\r\n\r\n})(this);\r\n\n},{}],2:[function(require,module,exports){\n(function (process){\n/*!\r\n * EventEmitter2\r\n * https://github.com/hij1nx/EventEmitter2\r\n *\r\n * Copyright (c) 2013 hij1nx\r\n * Licensed under the MIT license.\r\n */\r\n;!function(undefined) {\r\n\r\n  var isArray = Array.isArray ? Array.isArray : function _isArray(obj) {\r\n    return Object.prototype.toString.call(obj) === \"[object Array]\";\r\n  };\r\n  var defaultMaxListeners = 10;\r\n\r\n  function init() {\r\n    this._events = {};\r\n    if (this._conf) {\r\n      configure.call(this, this._conf);\r\n    }\r\n  }\r\n\r\n  function configure(conf) {\r\n    if (conf) {\r\n      this._conf = conf;\r\n\r\n      conf.delimiter && (this.delimiter = conf.delimiter);\r\n      this._maxListeners = conf.maxListeners !== undefined ? conf.maxListeners : defaultMaxListeners;\r\n\r\n      conf.wildcard && (this.wildcard = conf.wildcard);\r\n      conf.newListener && (this.newListener = conf.newListener);\r\n      conf.verboseMemoryLeak && (this.verboseMemoryLeak = conf.verboseMemoryLeak);\r\n\r\n      if (this.wildcard) {\r\n        this.listenerTree = {};\r\n      }\r\n    } else {\r\n      this._maxListeners = defaultMaxListeners;\r\n    }\r\n  }\r\n\r\n  function logPossibleMemoryLeak(count, eventName) {\r\n    var errorMsg = '(node) warning: possible EventEmitter memory ' +\r\n        'leak detected. ' + count + ' listeners added. ' +\r\n        'Use emitter.setMaxListeners() to increase limit.';\r\n\r\n    if(this.verboseMemoryLeak){\r\n      errorMsg += ' Event name: ' + eventName + '.';\r\n    }\r\n\r\n    if(typeof process !== 'undefined' && process.emitWarning){\r\n      var e = new Error(errorMsg);\r\n      e.name = 'MaxListenersExceededWarning';\r\n      e.emitter = this;\r\n      e.count = count;\r\n      process.emitWarning(e);\r\n    } else {\r\n      console.error(errorMsg);\r\n\r\n      if (console.trace){\r\n        console.trace();\r\n      }\r\n    }\r\n  }\r\n\r\n  function EventEmitter(conf) {\r\n    this._events = {};\r\n    this.newListener = false;\r\n    this.verboseMemoryLeak = false;\r\n    configure.call(this, conf);\r\n  }\r\n  EventEmitter.EventEmitter2 = EventEmitter; // backwards compatibility for exporting EventEmitter property\r\n\r\n  //\r\n  // Attention, function return type now is array, always !\r\n  // It has zero elements if no any matches found and one or more\r\n  // elements (leafs) if there are matches\r\n  //\r\n  function searchListenerTree(handlers, type, tree, i) {\r\n    if (!tree) {\r\n      return [];\r\n    }\r\n    var listeners=[], leaf, len, branch, xTree, xxTree, isolatedBranch, endReached,\r\n        typeLength = type.length, currentType = type[i], nextType = type[i+1];\r\n    if (i === typeLength && tree._listeners) {\r\n      //\r\n      // If at the end of the event(s) list and the tree has listeners\r\n      // invoke those listeners.\r\n      //\r\n      if (typeof tree._listeners === 'function') {\r\n        handlers && handlers.push(tree._listeners);\r\n        return [tree];\r\n      } else {\r\n        for (leaf = 0, len = tree._listeners.length; leaf < len; leaf++) {\r\n          handlers && handlers.push(tree._listeners[leaf]);\r\n        }\r\n        return [tree];\r\n      }\r\n    }\r\n\r\n    if ((currentType === '*' || currentType === '**') || tree[currentType]) {\r\n      //\r\n      // If the event emitted is '*' at this part\r\n      // or there is a concrete match at this patch\r\n      //\r\n      if (currentType === '*') {\r\n        for (branch in tree) {\r\n          if (branch !== '_listeners' && tree.hasOwnProperty(branch)) {\r\n            listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i+1));\r\n          }\r\n        }\r\n        return listeners;\r\n      } else if(currentType === '**') {\r\n        endReached = (i+1 === typeLength || (i+2 === typeLength && nextType === '*'));\r\n        if(endReached && tree._listeners) {\r\n          // The next element has a _listeners, add it to the handlers.\r\n          listeners = listeners.concat(searchListenerTree(handlers, type, tree, typeLength));\r\n        }\r\n\r\n        for (branch in tree) {\r\n          if (branch !== '_listeners' && tree.hasOwnProperty(branch)) {\r\n            if(branch === '*' || branch === '**') {\r\n              if(tree[branch]._listeners && !endReached) {\r\n                listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], typeLength));\r\n              }\r\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i));\r\n            } else if(branch === nextType) {\r\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i+2));\r\n            } else {\r\n              // No match on this one, shift into the tree but not in the type array.\r\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i));\r\n            }\r\n          }\r\n        }\r\n        return listeners;\r\n      }\r\n\r\n      listeners = listeners.concat(searchListenerTree(handlers, type, tree[currentType], i+1));\r\n    }\r\n\r\n    xTree = tree['*'];\r\n    if (xTree) {\r\n      //\r\n      // If the listener tree will allow any match for this part,\r\n      // then recursively explore all branches of the tree\r\n      //\r\n      searchListenerTree(handlers, type, xTree, i+1);\r\n    }\r\n\r\n    xxTree = tree['**'];\r\n    if(xxTree) {\r\n      if(i < typeLength) {\r\n        if(xxTree._listeners) {\r\n          // If we have a listener on a '**', it will catch all, so add its handler.\r\n          searchListenerTree(handlers, type, xxTree, typeLength);\r\n        }\r\n\r\n        // Build arrays of matching next branches and others.\r\n        for(branch in xxTree) {\r\n          if(branch !== '_listeners' && xxTree.hasOwnProperty(branch)) {\r\n            if(branch === nextType) {\r\n              // We know the next element will match, so jump twice.\r\n              searchListenerTree(handlers, type, xxTree[branch], i+2);\r\n            } else if(branch === currentType) {\r\n              // Current node matches, move into the tree.\r\n              searchListenerTree(handlers, type, xxTree[branch], i+1);\r\n            } else {\r\n              isolatedBranch = {};\r\n              isolatedBranch[branch] = xxTree[branch];\r\n              searchListenerTree(handlers, type, { '**': isolatedBranch }, i+1);\r\n            }\r\n          }\r\n        }\r\n      } else if(xxTree._listeners) {\r\n        // We have reached the end and still on a '**'\r\n        searchListenerTree(handlers, type, xxTree, typeLength);\r\n      } else if(xxTree['*'] && xxTree['*']._listeners) {\r\n        searchListenerTree(handlers, type, xxTree['*'], typeLength);\r\n      }\r\n    }\r\n\r\n    return listeners;\r\n  }\r\n\r\n  function growListenerTree(type, listener) {\r\n\r\n    type = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n\r\n    //\r\n    // Looks for two consecutive '**', if so, don't add the event at all.\r\n    //\r\n    for(var i = 0, len = type.length; i+1 < len; i++) {\r\n      if(type[i] === '**' && type[i+1] === '**') {\r\n        return;\r\n      }\r\n    }\r\n\r\n    var tree = this.listenerTree;\r\n    var name = type.shift();\r\n\r\n    while (name !== undefined) {\r\n\r\n      if (!tree[name]) {\r\n        tree[name] = {};\r\n      }\r\n\r\n      tree = tree[name];\r\n\r\n      if (type.length === 0) {\r\n\r\n        if (!tree._listeners) {\r\n          tree._listeners = listener;\r\n        }\r\n        else {\r\n          if (typeof tree._listeners === 'function') {\r\n            tree._listeners = [tree._listeners];\r\n          }\r\n\r\n          tree._listeners.push(listener);\r\n\r\n          if (\r\n            !tree._listeners.warned &&\r\n            this._maxListeners > 0 &&\r\n            tree._listeners.length > this._maxListeners\r\n          ) {\r\n            tree._listeners.warned = true;\r\n            logPossibleMemoryLeak.call(this, tree._listeners.length, name);\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n      name = type.shift();\r\n    }\r\n    return true;\r\n  }\r\n\r\n  // By default EventEmitters will print a warning if more than\r\n  // 10 listeners are added to it. This is a useful default which\r\n  // helps finding memory leaks.\r\n  //\r\n  // Obviously not all Emitters should be limited to 10. This function allows\r\n  // that to be increased. Set to zero for unlimited.\r\n\r\n  EventEmitter.prototype.delimiter = '.';\r\n\r\n  EventEmitter.prototype.setMaxListeners = function(n) {\r\n    if (n !== undefined) {\r\n      this._maxListeners = n;\r\n      if (!this._conf) this._conf = {};\r\n      this._conf.maxListeners = n;\r\n    }\r\n  };\r\n\r\n  EventEmitter.prototype.event = '';\r\n\r\n\r\n  EventEmitter.prototype.once = function(event, fn) {\r\n    return this._once(event, fn, false);\r\n  };\r\n\r\n  EventEmitter.prototype.prependOnceListener = function(event, fn) {\r\n    return this._once(event, fn, true);\r\n  };\r\n\r\n  EventEmitter.prototype._once = function(event, fn, prepend) {\r\n    this._many(event, 1, fn, prepend);\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.many = function(event, ttl, fn) {\r\n    return this._many(event, ttl, fn, false);\r\n  }\r\n\r\n  EventEmitter.prototype.prependMany = function(event, ttl, fn) {\r\n    return this._many(event, ttl, fn, true);\r\n  }\r\n\r\n  EventEmitter.prototype._many = function(event, ttl, fn, prepend) {\r\n    var self = this;\r\n\r\n    if (typeof fn !== 'function') {\r\n      throw new Error('many only accepts instances of Function');\r\n    }\r\n\r\n    function listener() {\r\n      if (--ttl === 0) {\r\n        self.off(event, listener);\r\n      }\r\n      return fn.apply(this, arguments);\r\n    }\r\n\r\n    listener._origin = fn;\r\n\r\n    this._on(event, listener, prepend);\r\n\r\n    return self;\r\n  };\r\n\r\n  EventEmitter.prototype.emit = function() {\r\n\r\n    this._events || init.call(this);\r\n\r\n    var type = arguments[0];\r\n\r\n    if (type === 'newListener' && !this.newListener) {\r\n      if (!this._events.newListener) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    var al = arguments.length;\r\n    var args,l,i,j;\r\n    var handler;\r\n\r\n    if (this._all && this._all.length) {\r\n      handler = this._all.slice();\r\n      if (al > 3) {\r\n        args = new Array(al);\r\n        for (j = 0; j < al; j++) args[j] = arguments[j];\r\n      }\r\n\r\n      for (i = 0, l = handler.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          handler[i].call(this, type);\r\n          break;\r\n        case 2:\r\n          handler[i].call(this, type, arguments[1]);\r\n          break;\r\n        case 3:\r\n          handler[i].call(this, type, arguments[1], arguments[2]);\r\n          break;\r\n        default:\r\n          handler[i].apply(this, args);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.wildcard) {\r\n      handler = [];\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      searchListenerTree.call(this, handler, ns, this.listenerTree, 0);\r\n    } else {\r\n      handler = this._events[type];\r\n      if (typeof handler === 'function') {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          handler.call(this);\r\n          break;\r\n        case 2:\r\n          handler.call(this, arguments[1]);\r\n          break;\r\n        case 3:\r\n          handler.call(this, arguments[1], arguments[2]);\r\n          break;\r\n        default:\r\n          args = new Array(al - 1);\r\n          for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n          handler.apply(this, args);\r\n        }\r\n        return true;\r\n      } else if (handler) {\r\n        // need to make copy of handlers because list can change in the middle\r\n        // of emit call\r\n        handler = handler.slice();\r\n      }\r\n    }\r\n\r\n    if (handler && handler.length) {\r\n      if (al > 3) {\r\n        args = new Array(al - 1);\r\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n      }\r\n      for (i = 0, l = handler.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          handler[i].call(this);\r\n          break;\r\n        case 2:\r\n          handler[i].call(this, arguments[1]);\r\n          break;\r\n        case 3:\r\n          handler[i].call(this, arguments[1], arguments[2]);\r\n          break;\r\n        default:\r\n          handler[i].apply(this, args);\r\n        }\r\n      }\r\n      return true;\r\n    } else if (!this._all && type === 'error') {\r\n      if (arguments[1] instanceof Error) {\r\n        throw arguments[1]; // Unhandled 'error' event\r\n      } else {\r\n        throw new Error(\"Uncaught, unspecified 'error' event.\");\r\n      }\r\n      return false;\r\n    }\r\n\r\n    return !!this._all;\r\n  };\r\n\r\n  EventEmitter.prototype.emitAsync = function() {\r\n\r\n    this._events || init.call(this);\r\n\r\n    var type = arguments[0];\r\n\r\n    if (type === 'newListener' && !this.newListener) {\r\n        if (!this._events.newListener) { return Promise.resolve([false]); }\r\n    }\r\n\r\n    var promises= [];\r\n\r\n    var al = arguments.length;\r\n    var args,l,i,j;\r\n    var handler;\r\n\r\n    if (this._all) {\r\n      if (al > 3) {\r\n        args = new Array(al);\r\n        for (j = 1; j < al; j++) args[j] = arguments[j];\r\n      }\r\n      for (i = 0, l = this._all.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          promises.push(this._all[i].call(this, type));\r\n          break;\r\n        case 2:\r\n          promises.push(this._all[i].call(this, type, arguments[1]));\r\n          break;\r\n        case 3:\r\n          promises.push(this._all[i].call(this, type, arguments[1], arguments[2]));\r\n          break;\r\n        default:\r\n          promises.push(this._all[i].apply(this, args));\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.wildcard) {\r\n      handler = [];\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      searchListenerTree.call(this, handler, ns, this.listenerTree, 0);\r\n    } else {\r\n      handler = this._events[type];\r\n    }\r\n\r\n    if (typeof handler === 'function') {\r\n      this.event = type;\r\n      switch (al) {\r\n      case 1:\r\n        promises.push(handler.call(this));\r\n        break;\r\n      case 2:\r\n        promises.push(handler.call(this, arguments[1]));\r\n        break;\r\n      case 3:\r\n        promises.push(handler.call(this, arguments[1], arguments[2]));\r\n        break;\r\n      default:\r\n        args = new Array(al - 1);\r\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n        promises.push(handler.apply(this, args));\r\n      }\r\n    } else if (handler && handler.length) {\r\n      handler = handler.slice();\r\n      if (al > 3) {\r\n        args = new Array(al - 1);\r\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n      }\r\n      for (i = 0, l = handler.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          promises.push(handler[i].call(this));\r\n          break;\r\n        case 2:\r\n          promises.push(handler[i].call(this, arguments[1]));\r\n          break;\r\n        case 3:\r\n          promises.push(handler[i].call(this, arguments[1], arguments[2]));\r\n          break;\r\n        default:\r\n          promises.push(handler[i].apply(this, args));\r\n        }\r\n      }\r\n    } else if (!this._all && type === 'error') {\r\n      if (arguments[1] instanceof Error) {\r\n        return Promise.reject(arguments[1]); // Unhandled 'error' event\r\n      } else {\r\n        return Promise.reject(\"Uncaught, unspecified 'error' event.\");\r\n      }\r\n    }\r\n\r\n    return Promise.all(promises);\r\n  };\r\n\r\n  EventEmitter.prototype.on = function(type, listener) {\r\n    return this._on(type, listener, false);\r\n  };\r\n\r\n  EventEmitter.prototype.prependListener = function(type, listener) {\r\n    return this._on(type, listener, true);\r\n  };\r\n\r\n  EventEmitter.prototype.onAny = function(fn) {\r\n    return this._onAny(fn, false);\r\n  };\r\n\r\n  EventEmitter.prototype.prependAny = function(fn) {\r\n    return this._onAny(fn, true);\r\n  };\r\n\r\n  EventEmitter.prototype.addListener = EventEmitter.prototype.on;\r\n\r\n  EventEmitter.prototype._onAny = function(fn, prepend){\r\n    if (typeof fn !== 'function') {\r\n      throw new Error('onAny only accepts instances of Function');\r\n    }\r\n\r\n    if (!this._all) {\r\n      this._all = [];\r\n    }\r\n\r\n    // Add the function to the event listener collection.\r\n    if(prepend){\r\n      this._all.unshift(fn);\r\n    }else{\r\n      this._all.push(fn);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  EventEmitter.prototype._on = function(type, listener, prepend) {\r\n    if (typeof type === 'function') {\r\n      this._onAny(type, listener);\r\n      return this;\r\n    }\r\n\r\n    if (typeof listener !== 'function') {\r\n      throw new Error('on only accepts instances of Function');\r\n    }\r\n    this._events || init.call(this);\r\n\r\n    // To avoid recursion in the case that type == \"newListeners\"! Before\r\n    // adding it to the listeners, first emit \"newListeners\".\r\n    this.emit('newListener', type, listener);\r\n\r\n    if (this.wildcard) {\r\n      growListenerTree.call(this, type, listener);\r\n      return this;\r\n    }\r\n\r\n    if (!this._events[type]) {\r\n      // Optimize the case of one listener. Don't need the extra array object.\r\n      this._events[type] = listener;\r\n    }\r\n    else {\r\n      if (typeof this._events[type] === 'function') {\r\n        // Change to array.\r\n        this._events[type] = [this._events[type]];\r\n      }\r\n\r\n      // If we've already got an array, just add\r\n      if(prepend){\r\n        this._events[type].unshift(listener);\r\n      }else{\r\n        this._events[type].push(listener);\r\n      }\r\n\r\n      // Check for listener leak\r\n      if (\r\n        !this._events[type].warned &&\r\n        this._maxListeners > 0 &&\r\n        this._events[type].length > this._maxListeners\r\n      ) {\r\n        this._events[type].warned = true;\r\n        logPossibleMemoryLeak.call(this, this._events[type].length, type);\r\n      }\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  EventEmitter.prototype.off = function(type, listener) {\r\n    if (typeof listener !== 'function') {\r\n      throw new Error('removeListener only takes instances of Function');\r\n    }\r\n\r\n    var handlers,leafs=[];\r\n\r\n    if(this.wildcard) {\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      leafs = searchListenerTree.call(this, null, ns, this.listenerTree, 0);\r\n    }\r\n    else {\r\n      // does not use listeners(), so no side effect of creating _events[type]\r\n      if (!this._events[type]) return this;\r\n      handlers = this._events[type];\r\n      leafs.push({_listeners:handlers});\r\n    }\r\n\r\n    for (var iLeaf=0; iLeaf<leafs.length; iLeaf++) {\r\n      var leaf = leafs[iLeaf];\r\n      handlers = leaf._listeners;\r\n      if (isArray(handlers)) {\r\n\r\n        var position = -1;\r\n\r\n        for (var i = 0, length = handlers.length; i < length; i++) {\r\n          if (handlers[i] === listener ||\r\n            (handlers[i].listener && handlers[i].listener === listener) ||\r\n            (handlers[i]._origin && handlers[i]._origin === listener)) {\r\n            position = i;\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (position < 0) {\r\n          continue;\r\n        }\r\n\r\n        if(this.wildcard) {\r\n          leaf._listeners.splice(position, 1);\r\n        }\r\n        else {\r\n          this._events[type].splice(position, 1);\r\n        }\r\n\r\n        if (handlers.length === 0) {\r\n          if(this.wildcard) {\r\n            delete leaf._listeners;\r\n          }\r\n          else {\r\n            delete this._events[type];\r\n          }\r\n        }\r\n\r\n        this.emit(\"removeListener\", type, listener);\r\n\r\n        return this;\r\n      }\r\n      else if (handlers === listener ||\r\n        (handlers.listener && handlers.listener === listener) ||\r\n        (handlers._origin && handlers._origin === listener)) {\r\n        if(this.wildcard) {\r\n          delete leaf._listeners;\r\n        }\r\n        else {\r\n          delete this._events[type];\r\n        }\r\n\r\n        this.emit(\"removeListener\", type, listener);\r\n      }\r\n    }\r\n\r\n    function recursivelyGarbageCollect(root) {\r\n      if (root === undefined) {\r\n        return;\r\n      }\r\n      var keys = Object.keys(root);\r\n      for (var i in keys) {\r\n        var key = keys[i];\r\n        var obj = root[key];\r\n        if ((obj instanceof Function) || (typeof obj !== \"object\") || (obj === null))\r\n          continue;\r\n        if (Object.keys(obj).length > 0) {\r\n          recursivelyGarbageCollect(root[key]);\r\n        }\r\n        if (Object.keys(obj).length === 0) {\r\n          delete root[key];\r\n        }\r\n      }\r\n    }\r\n    recursivelyGarbageCollect(this.listenerTree);\r\n\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.offAny = function(fn) {\r\n    var i = 0, l = 0, fns;\r\n    if (fn && this._all && this._all.length > 0) {\r\n      fns = this._all;\r\n      for(i = 0, l = fns.length; i < l; i++) {\r\n        if(fn === fns[i]) {\r\n          fns.splice(i, 1);\r\n          this.emit(\"removeListenerAny\", fn);\r\n          return this;\r\n        }\r\n      }\r\n    } else {\r\n      fns = this._all;\r\n      for(i = 0, l = fns.length; i < l; i++)\r\n        this.emit(\"removeListenerAny\", fns[i]);\r\n      this._all = [];\r\n    }\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.removeListener = EventEmitter.prototype.off;\r\n\r\n  EventEmitter.prototype.removeAllListeners = function(type) {\r\n    if (arguments.length === 0) {\r\n      !this._events || init.call(this);\r\n      return this;\r\n    }\r\n\r\n    if (this.wildcard) {\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      var leafs = searchListenerTree.call(this, null, ns, this.listenerTree, 0);\r\n\r\n      for (var iLeaf=0; iLeaf<leafs.length; iLeaf++) {\r\n        var leaf = leafs[iLeaf];\r\n        leaf._listeners = null;\r\n      }\r\n    }\r\n    else if (this._events) {\r\n      this._events[type] = null;\r\n    }\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.listeners = function(type) {\r\n    if (this.wildcard) {\r\n      var handlers = [];\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      searchListenerTree.call(this, handlers, ns, this.listenerTree, 0);\r\n      return handlers;\r\n    }\r\n\r\n    this._events || init.call(this);\r\n\r\n    if (!this._events[type]) this._events[type] = [];\r\n    if (!isArray(this._events[type])) {\r\n      this._events[type] = [this._events[type]];\r\n    }\r\n    return this._events[type];\r\n  };\r\n\r\n  EventEmitter.prototype.eventNames = function(){\r\n    return Object.keys(this._events);\r\n  }\r\n\r\n  EventEmitter.prototype.listenerCount = function(type) {\r\n    return this.listeners(type).length;\r\n  };\r\n\r\n  EventEmitter.prototype.listenersAny = function() {\r\n\r\n    if(this._all) {\r\n      return this._all;\r\n    }\r\n    else {\r\n      return [];\r\n    }\r\n\r\n  };\r\n\r\n  if (typeof define === 'function' && define.amd) {\r\n     // AMD. Register as an anonymous module.\r\n    define(function() {\r\n      return EventEmitter;\r\n    });\r\n  } else if (typeof exports === 'object') {\r\n    // CommonJS\r\n    module.exports = EventEmitter;\r\n  }\r\n  else {\r\n    // Browser global.\r\n    window.EventEmitter2 = EventEmitter;\r\n  }\r\n}();\r\n\n}).call(this,require('_process'))\n},{\"_process\":4}],3:[function(require,module,exports){\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n},{}],4:[function(require,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],5:[function(require,module,exports){\nvar bundleFn = arguments[3];\nvar sources = arguments[4];\nvar cache = arguments[5];\n\nvar stringify = JSON.stringify;\n\nmodule.exports = function (fn, options) {\n    var wkey;\n    var cacheKeys = Object.keys(cache);\n\n    for (var i = 0, l = cacheKeys.length; i < l; i++) {\n        var key = cacheKeys[i];\n        var exp = cache[key].exports;\n        // Using babel as a transpiler to use esmodule, the export will always\n        // be an object with the default export as a property of it. To ensure\n        // the existing api and babel esmodule exports are both supported we\n        // check for both\n        if (exp === fn || exp && exp.default === fn) {\n            wkey = key;\n            break;\n        }\n    }\n\n    if (!wkey) {\n        wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n        var wcache = {};\n        for (var i = 0, l = cacheKeys.length; i < l; i++) {\n            var key = cacheKeys[i];\n            wcache[key] = key;\n        }\n        sources[wkey] = [\n            'function(require,module,exports){' + fn + '(self); }',\n            wcache\n        ];\n    }\n    var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n\n    var scache = {}; scache[wkey] = wkey;\n    sources[skey] = [\n        'function(require,module,exports){' +\n            // try to call default if defined to also support babel esmodule exports\n            'var f = require(' + stringify(wkey) + ');' +\n            '(f.default ? f.default : f)(self);' +\n        '}',\n        scache\n    ];\n\n    var workerSources = {};\n    resolveSources(skey);\n\n    function resolveSources(key) {\n        workerSources[key] = true;\n\n        for (var depPath in sources[key][1]) {\n            var depKey = sources[key][1][depPath];\n            if (!workerSources[depKey]) {\n                resolveSources(depKey);\n            }\n        }\n    }\n\n    var src = '(' + bundleFn + ')({'\n        + Object.keys(workerSources).map(function (key) {\n            return stringify(key) + ':['\n                + sources[key][0]\n                + ',' + stringify(sources[key][1]) + ']'\n            ;\n        }).join(',')\n        + '},{},[' + stringify(skey) + '])'\n    ;\n\n    var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n    var blob = new Blob([src], { type: 'text/javascript' });\n    if (options && options.bare) { return blob; }\n    var workerUrl = URL.createObjectURL(blob);\n    var worker = new Worker(workerUrl);\n    worker.objectURL = workerUrl;\n    return worker;\n};\n\n},{}],6:[function(require,module,exports){\n/**\n * @fileOverview\n * @author Russell Toris - rctoris@wpi.edu\n */\n\n/**\n * If you use roslib in a browser, all the classes will be exported to a global variable called ROSLIB.\n *\n * If you use nodejs, this is the variable you get when you require('roslib')\n */\nvar ROSLIB = this.ROSLIB || {\n  REVISION : '1.0.1'\n};\n\nvar assign = require('object-assign');\n\n// Add core components\nassign(ROSLIB, require('./core'));\n\nassign(ROSLIB, require('./actionlib'));\n\nassign(ROSLIB, require('./math'));\n\nassign(ROSLIB, require('./tf'));\n\nassign(ROSLIB, require('./urdf'));\n\nmodule.exports = ROSLIB;\n\n},{\"./actionlib\":12,\"./core\":21,\"./math\":26,\"./tf\":29,\"./urdf\":41,\"object-assign\":3}],7:[function(require,module,exports){\n(function (global){\nglobal.ROSLIB = require('./RosLib');\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./RosLib\":6}],8:[function(require,module,exports){\n/**\n * @fileOverview\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar Topic = require('../core/Topic');\nvar Message = require('../core/Message');\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\n\n/**\n * An actionlib action client.\n *\n * Emits the following events:\n *  * 'timeout' - if a timeout occurred while sending a goal\n *  * 'status' - the status messages received from the action server\n *  * 'feedback' -  the feedback messages received from the action server\n *  * 'result' - the result returned from the action server\n *\n *  @constructor\n *  @param options - object with following keys:\n *   * ros - the ROSLIB.Ros connection handle\n *   * serverName - the action server name, like /fibonacci\n *   * actionName - the action message name, like 'actionlib_tutorials/FibonacciAction'\n *   * timeout - the timeout length when connecting to the action server\n */\nfunction ActionClient(options) {\n  var that = this;\n  options = options || {};\n  this.ros = options.ros;\n  this.serverName = options.serverName;\n  this.actionName = options.actionName;\n  this.timeout = options.timeout;\n  this.omitFeedback = options.omitFeedback;\n  this.omitStatus = options.omitStatus;\n  this.omitResult = options.omitResult;\n  this.goals = {};\n\n  // flag to check if a status has been received\n  var receivedStatus = false;\n\n  // create the topics associated with actionlib\n  this.feedbackListener = new Topic({\n    ros : this.ros,\n    name : this.serverName + '/feedback',\n    messageType : this.actionName + 'Feedback'\n  });\n\n  this.statusListener = new Topic({\n    ros : this.ros,\n    name : this.serverName + '/status',\n    messageType : 'actionlib_msgs/GoalStatusArray'\n  });\n\n  this.resultListener = new Topic({\n    ros : this.ros,\n    name : this.serverName + '/result',\n    messageType : this.actionName + 'Result'\n  });\n\n  this.goalTopic = new Topic({\n    ros : this.ros,\n    name : this.serverName + '/goal',\n    messageType : this.actionName + 'Goal'\n  });\n\n  this.cancelTopic = new Topic({\n    ros : this.ros,\n    name : this.serverName + '/cancel',\n    messageType : 'actionlib_msgs/GoalID'\n  });\n\n  // advertise the goal and cancel topics\n  this.goalTopic.advertise();\n  this.cancelTopic.advertise();\n\n  // subscribe to the status topic\n  if (!this.omitStatus) {\n    this.statusListener.subscribe(function(statusMessage) {\n      receivedStatus = true;\n      statusMessage.status_list.forEach(function(status) {\n        var goal = that.goals[status.goal_id.id];\n        if (goal) {\n          goal.emit('status', status);\n        }\n      });\n    });\n  }\n\n  // subscribe the the feedback topic\n  if (!this.omitFeedback) {\n    this.feedbackListener.subscribe(function(feedbackMessage) {\n      var goal = that.goals[feedbackMessage.status.goal_id.id];\n      if (goal) {\n        goal.emit('status', feedbackMessage.status);\n        goal.emit('feedback', feedbackMessage.feedback);\n      }\n    });\n  }\n\n  // subscribe to the result topic\n  if (!this.omitResult) {\n    this.resultListener.subscribe(function(resultMessage) {\n      var goal = that.goals[resultMessage.status.goal_id.id];\n\n      if (goal) {\n        goal.emit('status', resultMessage.status);\n        goal.emit('result', resultMessage.result);\n      }\n    });\n  }\n\n  // If timeout specified, emit a 'timeout' event if the action server does not respond\n  if (this.timeout) {\n    setTimeout(function() {\n      if (!receivedStatus) {\n        that.emit('timeout');\n      }\n    }, this.timeout);\n  }\n}\n\nActionClient.prototype.__proto__ = EventEmitter2.prototype;\n\n/**\n * Cancel all goals associated with this ActionClient.\n */\nActionClient.prototype.cancel = function() {\n  var cancelMessage = new Message();\n  this.cancelTopic.publish(cancelMessage);\n};\n\n/**\n * Unsubscribe and unadvertise all topics associated with this ActionClient.\n */\nActionClient.prototype.dispose = function() {\n  this.goalTopic.unadvertise();\n  this.cancelTopic.unadvertise();\n  if (!this.omitStatus) {this.statusListener.unsubscribe();}\n  if (!this.omitFeedback) {this.feedbackListener.unsubscribe();}\n  if (!this.omitResult) {this.resultListener.unsubscribe();}\n};\n\nmodule.exports = ActionClient;\n\n},{\"../core/Message\":13,\"../core/Topic\":20,\"eventemitter2\":2}],9:[function(require,module,exports){\n/**\n * @fileOverview\n * @author Justin Young - justin@oodar.com.au\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar Topic = require('../core/Topic');\nvar Message = require('../core/Message');\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\n\n/**\n * An actionlib action listener\n *\n * Emits the following events:\n *  * 'status' - the status messages received from the action server\n *  * 'feedback' -  the feedback messages received from the action server\n *  * 'result' - the result returned from the action server\n *\n *  @constructor\n *  @param options - object with following keys:\n *   * ros - the ROSLIB.Ros connection handle\n *   * serverName - the action server name, like /fibonacci\n *   * actionName - the action message name, like 'actionlib_tutorials/FibonacciAction'\n */\nfunction ActionListener(options) {\n  var that = this;\n  options = options || {};\n  this.ros = options.ros;\n  this.serverName = options.serverName;\n  this.actionName = options.actionName;\n  this.timeout = options.timeout;\n  this.omitFeedback = options.omitFeedback;\n  this.omitStatus = options.omitStatus;\n  this.omitResult = options.omitResult;\n\n\n  // create the topics associated with actionlib\n  var goalListener = new Topic({\n    ros : this.ros,\n    name : this.serverName + '/goal',\n    messageType : this.actionName + 'Goal'\n  });\n\n  var feedbackListener = new Topic({\n    ros : this.ros,\n    name : this.serverName + '/feedback',\n    messageType : this.actionName + 'Feedback'\n  });\n\n  var statusListener = new Topic({\n    ros : this.ros,\n    name : this.serverName + '/status',\n    messageType : 'actionlib_msgs/GoalStatusArray'\n  });\n\n  var resultListener = new Topic({\n    ros : this.ros,\n    name : this.serverName + '/result',\n    messageType : this.actionName + 'Result'\n  });\n\n  goalListener.subscribe(function(goalMessage) {\n      that.emit('goal', goalMessage);\n  });\n\n  statusListener.subscribe(function(statusMessage) {\n      statusMessage.status_list.forEach(function(status) {\n          that.emit('status', status);\n      });\n  });\n\n  feedbackListener.subscribe(function(feedbackMessage) {\n      that.emit('status', feedbackMessage.status);\n      that.emit('feedback', feedbackMessage.feedback);\n  });\n\n  // subscribe to the result topic\n  resultListener.subscribe(function(resultMessage) {\n      that.emit('status', resultMessage.status);\n      that.emit('result', resultMessage.result);\n  });\n\n}\n\nActionListener.prototype.__proto__ = EventEmitter2.prototype;\n\nmodule.exports = ActionListener;\n\n},{\"../core/Message\":13,\"../core/Topic\":20,\"eventemitter2\":2}],10:[function(require,module,exports){\n/**\n * @fileOverview\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar Message = require('../core/Message');\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\n\n/**\n * An actionlib goal goal is associated with an action server.\n *\n * Emits the following events:\n *  * 'timeout' - if a timeout occurred while sending a goal\n *\n *  @constructor\n *  @param object with following keys:\n *   * actionClient - the ROSLIB.ActionClient to use with this goal\n *   * goalMessage - The JSON object containing the goal for the action server\n */\nfunction Goal(options) {\n  var that = this;\n  this.actionClient = options.actionClient;\n  this.goalMessage = options.goalMessage;\n  this.isFinished = false;\n\n  // Used to create random IDs\n  var date = new Date();\n\n  // Create a random ID\n  this.goalID = 'goal_' + Math.random() + '_' + date.getTime();\n  // Fill in the goal message\n  this.goalMessage = new Message({\n    goal_id : {\n      stamp : {\n        secs : 0,\n        nsecs : 0\n      },\n      id : this.goalID\n    },\n    goal : this.goalMessage\n  });\n\n  this.on('status', function(status) {\n    that.status = status;\n  });\n\n  this.on('result', function(result) {\n    that.isFinished = true;\n    that.result = result;\n  });\n\n  this.on('feedback', function(feedback) {\n    that.feedback = feedback;\n  });\n\n  // Add the goal\n  this.actionClient.goals[this.goalID] = this;\n}\n\nGoal.prototype.__proto__ = EventEmitter2.prototype;\n\n/**\n * Send the goal to the action server.\n *\n * @param timeout (optional) - a timeout length for the goal's result\n */\nGoal.prototype.send = function(timeout) {\n  var that = this;\n  that.actionClient.goalTopic.publish(that.goalMessage);\n  if (timeout) {\n    setTimeout(function() {\n      if (!that.isFinished) {\n        that.emit('timeout');\n      }\n    }, timeout);\n  }\n};\n\n/**\n * Cancel the current goal.\n */\nGoal.prototype.cancel = function() {\n  var cancelMessage = new Message({\n    id : this.goalID\n  });\n  this.actionClient.cancelTopic.publish(cancelMessage);\n};\n\nmodule.exports = Goal;\n},{\"../core/Message\":13,\"eventemitter2\":2}],11:[function(require,module,exports){\n/**\n * @fileOverview\n * @author Laura Lindzey - lindzey@gmail.com\n */\n\nvar Topic = require('../core/Topic');\nvar Message = require('../core/Message');\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\n\n/**\n * An actionlib action server client.\n *\n * Emits the following events:\n *  * 'goal' - goal sent by action client\n *  * 'cancel' - action client has canceled the request\n *\n *  @constructor\n *  @param options - object with following keys:\n *   * ros - the ROSLIB.Ros connection handle\n *   * serverName - the action server name, like /fibonacci\n *   * actionName - the action message name, like 'actionlib_tutorials/FibonacciAction'\n */\n\nfunction SimpleActionServer(options) {\n    var that = this;\n    options = options || {};\n    this.ros = options.ros;\n    this.serverName = options.serverName;\n    this.actionName = options.actionName;\n\n    // create and advertise publishers\n    this.feedbackPublisher = new Topic({\n        ros : this.ros,\n        name : this.serverName + '/feedback',\n        messageType : this.actionName + 'Feedback'\n    });\n    this.feedbackPublisher.advertise();\n\n    var statusPublisher = new Topic({\n        ros : this.ros,\n        name : this.serverName + '/status',\n        messageType : 'actionlib_msgs/GoalStatusArray'\n    });\n    statusPublisher.advertise();\n\n    this.resultPublisher = new Topic({\n        ros : this.ros,\n        name : this.serverName + '/result',\n        messageType : this.actionName + 'Result'\n    });\n    this.resultPublisher.advertise();\n\n    // create and subscribe to listeners\n    var goalListener = new Topic({\n        ros : this.ros,\n        name : this.serverName + '/goal',\n        messageType : this.actionName + 'Goal'\n    });\n\n    var cancelListener = new Topic({\n        ros : this.ros,\n        name : this.serverName + '/cancel',\n        messageType : 'actionlib_msgs/GoalID'\n    });\n\n    // Track the goals and their status in order to publish status...\n    this.statusMessage = new Message({\n        header : {\n            stamp : {secs : 0, nsecs : 100},\n            frame_id : ''\n        },\n        status_list : []\n    });\n\n    // needed for handling preemption prompted by a new goal being received\n    this.currentGoal = null; // currently tracked goal\n    this.nextGoal = null; // the one that'll be preempting\n\n    goalListener.subscribe(function(goalMessage) {\n        \n    if(that.currentGoal) {\n            that.nextGoal = goalMessage;\n            // needs to happen AFTER rest is set up\n            that.emit('cancel');\n    } else {\n            that.statusMessage.status_list = [{goal_id : goalMessage.goal_id, status : 1}];\n            that.currentGoal = goalMessage;\n            that.emit('goal', goalMessage.goal);\n    }\n    });\n\n    // helper function for determing ordering of timestamps\n    // returns t1 < t2\n    var isEarlier = function(t1, t2) {\n        if(t1.secs > t2.secs) {\n            return false;\n        } else if(t1.secs < t2.secs) {\n            return true;\n        } else if(t1.nsecs < t2.nsecs) {\n            return true;\n        } else {\n            return false;\n        }\n    };\n\n    // TODO: this may be more complicated than necessary, since I'm\n    // not sure if the callbacks can ever wind up with a scenario\n    // where we've been preempted by a next goal, it hasn't finished\n    // processing, and then we get a cancel message\n    cancelListener.subscribe(function(cancelMessage) {\n\n        // cancel ALL goals if both empty\n        if(cancelMessage.stamp.secs === 0 && cancelMessage.stamp.secs === 0 && cancelMessage.id === '') {\n            that.nextGoal = null;\n            if(that.currentGoal) {\n                that.emit('cancel');\n            }\n        } else { // treat id and stamp independently\n            if(that.currentGoal && cancelMessage.id === that.currentGoal.goal_id.id) {\n                that.emit('cancel');\n            } else if(that.nextGoal && cancelMessage.id === that.nextGoal.goal_id.id) {\n                that.nextGoal = null;\n            }\n\n            if(that.nextGoal && isEarlier(that.nextGoal.goal_id.stamp,\n                                          cancelMessage.stamp)) {\n                that.nextGoal = null;\n            }\n            if(that.currentGoal && isEarlier(that.currentGoal.goal_id.stamp,\n                                             cancelMessage.stamp)) {\n                \n                that.emit('cancel');\n            }\n        }\n    });\n\n    // publish status at pseudo-fixed rate; required for clients to know they've connected\n    var statusInterval = setInterval( function() {\n        var currentTime = new Date();\n        var secs = Math.floor(currentTime.getTime()/1000);\n        var nsecs = Math.round(1000000000*(currentTime.getTime()/1000-secs));\n        that.statusMessage.header.stamp.secs = secs;\n        that.statusMessage.header.stamp.nsecs = nsecs;\n        statusPublisher.publish(that.statusMessage);\n    }, 500); // publish every 500ms\n\n}\n\nSimpleActionServer.prototype.__proto__ = EventEmitter2.prototype;\n\n/**\n*  Set action state to succeeded and return to client\n*/\n\nSimpleActionServer.prototype.setSucceeded = function(result2) {\n    \n\n    var resultMessage = new Message({\n        status : {goal_id : this.currentGoal.goal_id, status : 3},\n        result : result2\n    });\n    this.resultPublisher.publish(resultMessage);\n\n    this.statusMessage.status_list = [];\n    if(this.nextGoal) {\n        this.currentGoal = this.nextGoal;\n        this.nextGoal = null;\n        this.emit('goal', this.currentGoal.goal);\n    } else {\n        this.currentGoal = null;\n    }\n};\n\n/**\n*  Function to send feedback\n*/\n\nSimpleActionServer.prototype.sendFeedback = function(feedback2) {\n\n    var feedbackMessage = new Message({\n        status : {goal_id : this.currentGoal.goal_id, status : 1},\n        feedback : feedback2\n    });\n    this.feedbackPublisher.publish(feedbackMessage);\n};\n\n/**\n*  Handle case where client requests preemption\n*/\n\nSimpleActionServer.prototype.setPreempted = function() {\n\n    this.statusMessage.status_list = [];\n    var resultMessage = new Message({\n        status : {goal_id : this.currentGoal.goal_id, status : 2},\n    });\n    this.resultPublisher.publish(resultMessage);\n\n    if(this.nextGoal) {\n        this.currentGoal = this.nextGoal;\n        this.nextGoal = null;\n        this.emit('goal', this.currentGoal.goal);\n    } else {\n        this.currentGoal = null;\n    }\n};\n\nmodule.exports = SimpleActionServer;\n},{\"../core/Message\":13,\"../core/Topic\":20,\"eventemitter2\":2}],12:[function(require,module,exports){\nvar Ros = require('../core/Ros');\nvar mixin = require('../mixin');\n\nvar action = module.exports = {\n    ActionClient: require('./ActionClient'),\n    ActionListener: require('./ActionListener'),\n    Goal: require('./Goal'),\n    SimpleActionServer: require('./SimpleActionServer')\n};\n\nmixin(Ros, ['ActionClient', 'SimpleActionServer'], action);\n\n},{\"../core/Ros\":15,\"../mixin\":27,\"./ActionClient\":8,\"./ActionListener\":9,\"./Goal\":10,\"./SimpleActionServer\":11}],13:[function(require,module,exports){\n/**\n * @fileoverview\n * @author Brandon Alexander - baalexander@gmail.com\n */\n\nvar assign = require('object-assign');\n\n/**\n * Message objects are used for publishing and subscribing to and from topics.\n *\n * @constructor\n * @param values - object matching the fields defined in the .msg definition file\n */\nfunction Message(values) {\n  assign(this, values);\n}\n\nmodule.exports = Message;\n},{\"object-assign\":3}],14:[function(require,module,exports){\n/**\n * @fileoverview\n * @author Brandon Alexander - baalexander@gmail.com\n */\n\nvar Service = require('./Service');\nvar ServiceRequest = require('./ServiceRequest');\n\n/**\n * A ROS parameter.\n *\n * @constructor\n * @param options - possible keys include:\n *   * ros - the ROSLIB.Ros connection handle\n *   * name - the param name, like max_vel_x\n */\nfunction Param(options) {\n  options = options || {};\n  this.ros = options.ros;\n  this.name = options.name;\n}\n\n/**\n * Fetches the value of the param.\n *\n * @param callback - function with the following params:\n *  * value - the value of the param from ROS.\n */\nParam.prototype.get = function(callback) {\n  var paramClient = new Service({\n    ros : this.ros,\n    name : '/rosapi/get_param',\n    serviceType : 'rosapi/GetParam'\n  });\n\n  var request = new ServiceRequest({\n    name : this.name\n  });\n\n  paramClient.callService(request, function(result) {\n    var value = JSON.parse(result.value);\n    callback(value);\n  });\n};\n\n/**\n * Sets the value of the param in ROS.\n *\n * @param value - value to set param to.\n */\nParam.prototype.set = function(value, callback) {\n  var paramClient = new Service({\n    ros : this.ros,\n    name : '/rosapi/set_param',\n    serviceType : 'rosapi/SetParam'\n  });\n\n  var request = new ServiceRequest({\n    name : this.name,\n    value : JSON.stringify(value)\n  });\n\n  paramClient.callService(request, callback);\n};\n\n/**\n * Delete this parameter on the ROS server.\n */\nParam.prototype.delete = function(callback) {\n  var paramClient = new Service({\n    ros : this.ros,\n    name : '/rosapi/delete_param',\n    serviceType : 'rosapi/DeleteParam'\n  });\n\n  var request = new ServiceRequest({\n    name : this.name\n  });\n\n  paramClient.callService(request, callback);\n};\n\nmodule.exports = Param;\n},{\"./Service\":16,\"./ServiceRequest\":17}],15:[function(require,module,exports){\n/**\n * @fileoverview\n * @author Brandon Alexander - baalexander@gmail.com\n */\n\nvar WebSocket = require('ws');\nvar WorkerSocket = require('../util/workerSocket');\nvar socketAdapter = require('./SocketAdapter.js');\n\nvar Service = require('./Service');\nvar ServiceRequest = require('./ServiceRequest');\n\nvar assign = require('object-assign');\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\n\n/**\n * Manages connection to the server and all interactions with ROS.\n *\n * Emits the following events:\n *  * 'error' - there was an error with ROS\n *  * 'connection' - connected to the WebSocket server\n *  * 'close' - disconnected to the WebSocket server\n *  * <topicName> - a message came from rosbridge with the given topic name\n *  * <serviceID> - a service response came from rosbridge with the given ID\n *\n * @constructor\n * @param options - possible keys include: <br>\n *   * url (optional) - (can be specified later with `connect`) the WebSocket URL for rosbridge or the node server url to connect using socket.io (if socket.io exists in the page) <br>\n *   * groovyCompatibility - don't use interfaces that changed after the last groovy release or rosbridge_suite and related tools (defaults to true)\n *   * transportLibrary (optional) - one of 'websocket', 'workersocket' (default), 'socket.io' or RTCPeerConnection instance controlling how the connection is created in `connect`.\n *   * transportOptions (optional) - the options to use use when creating a connection. Currently only used if `transportLibrary` is RTCPeerConnection.\n */\nfunction Ros(options) {\n  options = options || {};\n  this.socket = null;\n  this.idCounter = 0;\n  this.isConnected = false;\n  this.transportLibrary = options.transportLibrary || 'websocket';\n  this.transportOptions = options.transportOptions || {};\n\n  if (typeof options.groovyCompatibility === 'undefined') {\n    this.groovyCompatibility = true;\n  }\n  else {\n    this.groovyCompatibility = options.groovyCompatibility;\n  }\n\n  // Sets unlimited event listeners.\n  this.setMaxListeners(0);\n\n  // begin by checking if a URL was given\n  if (options.url) {\n    this.connect(options.url);\n  }\n}\n\nRos.prototype.__proto__ = EventEmitter2.prototype;\n\n/**\n * Connect to the specified WebSocket.\n *\n * @param url - WebSocket URL or RTCDataChannel label for Rosbridge\n */\nRos.prototype.connect = function(url) {\n  if (this.transportLibrary === 'socket.io') {\n    this.socket = assign(io(url, {'force new connection': true}), socketAdapter(this));\n    this.socket.on('connect', this.socket.onopen);\n    this.socket.on('data', this.socket.onmessage);\n    this.socket.on('close', this.socket.onclose);\n    this.socket.on('error', this.socket.onerror);\n  } else if (this.transportLibrary.constructor.name === 'RTCPeerConnection') {\n    this.socket = assign(this.transportLibrary.createDataChannel(url, this.transportOptions), socketAdapter(this));\n  } else if (this.transportLibrary === 'websocket') {\n    if (!this.socket || this.socket.readyState === WebSocket.CLOSED) {\n      var sock = new WebSocket(url);\n      sock.binaryType = 'arraybuffer';\n      this.socket = assign(sock, socketAdapter(this));\n    }\n  } else if (this.transportLibrary === 'workersocket') {\n    this.socket = assign(new WorkerSocket(url), socketAdapter(this));\n  } else {\n    throw 'Unknown transportLibrary: ' + this.transportLibrary.toString();\n  }\n\n};\n\n/**\n * Disconnect from the WebSocket server.\n */\nRos.prototype.close = function() {\n  if (this.socket) {\n    this.socket.close();\n  }\n};\n\n/**\n * Sends an authorization request to the server.\n *\n * @param mac - MAC (hash) string given by the trusted source.\n * @param client - IP of the client.\n * @param dest - IP of the destination.\n * @param rand - Random string given by the trusted source.\n * @param t - Time of the authorization request.\n * @param level - User level as a string given by the client.\n * @param end - End time of the client's session.\n */\nRos.prototype.authenticate = function(mac, client, dest, rand, t, level, end) {\n  // create the request\n  var auth = {\n    op : 'auth',\n    mac : mac,\n    client : client,\n    dest : dest,\n    rand : rand,\n    t : t,\n    level : level,\n    end : end\n  };\n  // send the request\n  this.callOnConnection(auth);\n};\n\n/**\n * Sends the message over the WebSocket, but queues the message up if not yet\n * connected.\n */\nRos.prototype.callOnConnection = function(message) {\n  var that = this;\n  var messageJson = JSON.stringify(message);\n  var emitter = null;\n  if (this.transportLibrary === 'socket.io') {\n    emitter = function(msg){that.socket.emit('operation', msg);};\n  } else {\n    emitter = function(msg){that.socket.send(msg);};\n  }\n\n  if (!this.isConnected) {\n    that.once('connection', function() {\n      emitter(messageJson);\n    });\n  } else {\n    emitter(messageJson);\n  }\n};\n\n/**\n * Sends a set_level request to the server\n *\n * @param level - Status level (none, error, warning, info)\n * @param id - Optional: Operation ID to change status level on\n */\nRos.prototype.setStatusLevel = function(level, id){\n  var levelMsg = {\n    op: 'set_level',\n    level: level,\n    id: id\n  };\n\n  this.callOnConnection(levelMsg);\n};\n\n/**\n * Retrieves Action Servers in ROS as an array of string\n *\n *   * actionservers - Array of action server names\n */\nRos.prototype.getActionServers = function(callback, failedCallback) {\n  var getActionServers = new Service({\n    ros : this,\n    name : '/rosapi/action_servers',\n    serviceType : 'rosapi/GetActionServers'\n  });\n\n  var request = new ServiceRequest({});\n  if (typeof failedCallback === 'function'){\n    getActionServers.callService(request,\n      function(result) {\n        callback(result.action_servers);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    getActionServers.callService(request, function(result) {\n      callback(result.action_servers);\n    });\n  }\n};\n\n/**\n * Retrieves list of topics in ROS as an array.\n *\n * @param callback function with params:\n *   * topics - Array of topic names\n */\nRos.prototype.getTopics = function(callback, failedCallback) {\n  var topicsClient = new Service({\n    ros : this,\n    name : '/rosapi/topics',\n    serviceType : 'rosapi/Topics'\n  });\n\n  var request = new ServiceRequest();\n  if (typeof failedCallback === 'function'){\n    topicsClient.callService(request,\n      function(result) {\n        callback(result);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    topicsClient.callService(request, function(result) {\n      callback(result);\n    });\n  }\n};\n\n/**\n * Retrieves Topics in ROS as an array as specific type\n *\n * @param topicType topic type to find:\n * @param callback function with params:\n *   * topics - Array of topic names\n */\nRos.prototype.getTopicsForType = function(topicType, callback, failedCallback) {\n  var topicsForTypeClient = new Service({\n    ros : this,\n    name : '/rosapi/topics_for_type',\n    serviceType : 'rosapi/TopicsForType'\n  });\n\n  var request = new ServiceRequest({\n    type: topicType\n  });\n  if (typeof failedCallback === 'function'){\n    topicsForTypeClient.callService(request,\n      function(result) {\n        callback(result.topics);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    topicsForTypeClient.callService(request, function(result) {\n      callback(result.topics);\n    });\n  }\n};\n\n/**\n * Retrieves list of active service names in ROS.\n *\n * @param callback - function with the following params:\n *   * services - array of service names\n */\nRos.prototype.getServices = function(callback, failedCallback) {\n  var servicesClient = new Service({\n    ros : this,\n    name : '/rosapi/services',\n    serviceType : 'rosapi/Services'\n  });\n\n  var request = new ServiceRequest();\n  if (typeof failedCallback === 'function'){\n    servicesClient.callService(request,\n      function(result) {\n        callback(result.services);\n      },\n      function(message) {\n        failedCallback(message);\n      }\n    );\n  }else{\n    servicesClient.callService(request, function(result) {\n      callback(result.services);\n    });\n  }\n};\n\n/**\n * Retrieves list of services in ROS as an array as specific type\n *\n * @param serviceType service type to find:\n * @param callback function with params:\n *   * topics - Array of service names\n */\nRos.prototype.getServicesForType = function(serviceType, callback, failedCallback) {\n  var servicesForTypeClient = new Service({\n    ros : this,\n    name : '/rosapi/services_for_type',\n    serviceType : 'rosapi/ServicesForType'\n  });\n\n  var request = new ServiceRequest({\n    type: serviceType\n  });\n  if (typeof failedCallback === 'function'){\n    servicesForTypeClient.callService(request,\n      function(result) {\n        callback(result.services);\n      },\n      function(message) {\n        failedCallback(message);\n      }\n    );\n  }else{\n    servicesForTypeClient.callService(request, function(result) {\n      callback(result.services);\n    });\n  }\n};\n\n/**\n * Retrieves a detail of ROS service request.\n *\n * @param service name of service:\n * @param callback - function with params:\n *   * type - String of the service type\n */\nRos.prototype.getServiceRequestDetails = function(type, callback, failedCallback) {\n  var serviceTypeClient = new Service({\n    ros : this,\n    name : '/rosapi/service_request_details',\n    serviceType : 'rosapi/ServiceRequestDetails'\n  });\n  var request = new ServiceRequest({\n    type: type\n  });\n\n  if (typeof failedCallback === 'function'){\n    serviceTypeClient.callService(request,\n      function(result) {\n        callback(result);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    serviceTypeClient.callService(request, function(result) {\n      callback(result);\n    });\n  }\n};\n\n/**\n * Retrieves a detail of ROS service request.\n *\n * @param service name of service:\n * @param callback - function with params:\n *   * type - String of the service type\n */\nRos.prototype.getServiceResponseDetails = function(type, callback, failedCallback) {\n  var serviceTypeClient = new Service({\n    ros : this,\n    name : '/rosapi/service_response_details',\n    serviceType : 'rosapi/ServiceResponseDetails'\n  });\n  var request = new ServiceRequest({\n    type: type\n  });\n\n  if (typeof failedCallback === 'function'){\n    serviceTypeClient.callService(request,\n      function(result) {\n        callback(result);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    serviceTypeClient.callService(request, function(result) {\n      callback(result);\n    });\n  }\n};\n\n/**\n * Retrieves list of active node names in ROS.\n *\n * @param callback - function with the following params:\n *   * nodes - array of node names\n */\nRos.prototype.getNodes = function(callback, failedCallback) {\n  var nodesClient = new Service({\n    ros : this,\n    name : '/rosapi/nodes',\n    serviceType : 'rosapi/Nodes'\n  });\n\n  var request = new ServiceRequest();\n  if (typeof failedCallback === 'function'){\n    nodesClient.callService(request,\n      function(result) {\n        callback(result.nodes);\n      },\n      function(message) {\n        failedCallback(message);\n      }\n    );\n  }else{\n    nodesClient.callService(request, function(result) {\n      callback(result.nodes);\n    });\n  }\n};\n\n/**\n  * Retrieves list subscribed topics, publishing topics and services of a specific node\n  *\n  * @param node name of the node:\n  * @param callback - function with params:\n  *   * publications - array of published topic names\n  *   * subscriptions - array of subscribed topic names\n  *   * services - array of service names hosted\n  */\nRos.prototype.getNodeDetails = function(node, callback, failedCallback) {\n  var nodesClient = new Service({\n    ros : this,\n    name : '/rosapi/node_details',\n    serviceType : 'rosapi/NodeDetails'\n  });\n\n  var request = new ServiceRequest({\n    node: node\n  });\n  if (typeof failedCallback === 'function'){\n    nodesClient.callService(request,\n      function(result) {\n        callback(result.subscribing, result.publishing, result.services);\n      },\n      function(message) {\n        failedCallback(message);\n      }\n    );\n  } else {\n    nodesClient.callService(request, function(result) {\n      callback(result);\n    });\n  }\n};\n\n/**\n * Retrieves list of param names from the ROS Parameter Server.\n *\n * @param callback function with params:\n *  * params - array of param names.\n */\nRos.prototype.getParams = function(callback, failedCallback) {\n  var paramsClient = new Service({\n    ros : this,\n    name : '/rosapi/get_param_names',\n    serviceType : 'rosapi/GetParamNames'\n  });\n  var request = new ServiceRequest();\n  if (typeof failedCallback === 'function'){\n    paramsClient.callService(request,\n      function(result) {\n        callback(result.names);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    paramsClient.callService(request, function(result) {\n      callback(result.names);\n    });\n  }\n};\n\n/**\n * Retrieves a type of ROS topic.\n *\n * @param topic name of the topic:\n * @param callback - function with params:\n *   * type - String of the topic type\n */\nRos.prototype.getTopicType = function(topic, callback, failedCallback) {\n  var topicTypeClient = new Service({\n    ros : this,\n    name : '/rosapi/topic_type',\n    serviceType : 'rosapi/TopicType'\n  });\n  var request = new ServiceRequest({\n    topic: topic\n  });\n\n  if (typeof failedCallback === 'function'){\n    topicTypeClient.callService(request,\n      function(result) {\n        callback(result.type);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    topicTypeClient.callService(request, function(result) {\n      callback(result.type);\n    });\n  }\n};\n\n/**\n * Retrieves a type of ROS service.\n *\n * @param service name of service:\n * @param callback - function with params:\n *   * type - String of the service type\n */\nRos.prototype.getServiceType = function(service, callback, failedCallback) {\n  var serviceTypeClient = new Service({\n    ros : this,\n    name : '/rosapi/service_type',\n    serviceType : 'rosapi/ServiceType'\n  });\n  var request = new ServiceRequest({\n    service: service\n  });\n\n  if (typeof failedCallback === 'function'){\n    serviceTypeClient.callService(request,\n      function(result) {\n        callback(result.type);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    serviceTypeClient.callService(request, function(result) {\n      callback(result.type);\n    });\n  }\n};\n\n/**\n * Retrieves a detail of ROS message.\n *\n * @param callback - function with params:\n *   * details - Array of the message detail\n * @param message - String of a topic type\n */\nRos.prototype.getMessageDetails = function(message, callback, failedCallback) {\n  var messageDetailClient = new Service({\n    ros : this,\n    name : '/rosapi/message_details',\n    serviceType : 'rosapi/MessageDetails'\n  });\n  var request = new ServiceRequest({\n    type: message\n  });\n\n  if (typeof failedCallback === 'function'){\n    messageDetailClient.callService(request,\n      function(result) {\n        callback(result.typedefs);\n      },\n      function(message){\n        failedCallback(message);\n      }\n    );\n  }else{\n    messageDetailClient.callService(request, function(result) {\n      callback(result.typedefs);\n    });\n  }\n};\n\n/**\n * Decode a typedefs into a dictionary like `rosmsg show foo/bar`\n *\n * @param defs - array of type_def dictionary\n */\nRos.prototype.decodeTypeDefs = function(defs) {\n  var that = this;\n\n  // calls itself recursively to resolve type definition using hints.\n  var decodeTypeDefsRec = function(theType, hints) {\n    var typeDefDict = {};\n    for (var i = 0; i < theType.fieldnames.length; i++) {\n      var arrayLen = theType.fieldarraylen[i];\n      var fieldName = theType.fieldnames[i];\n      var fieldType = theType.fieldtypes[i];\n      if (fieldType.indexOf('/') === -1) { // check the fieldType includes '/' or not\n        if (arrayLen === -1) {\n          typeDefDict[fieldName] = fieldType;\n        }\n        else {\n          typeDefDict[fieldName] = [fieldType];\n        }\n      }\n      else {\n        // lookup the name\n        var sub = false;\n        for (var j = 0; j < hints.length; j++) {\n          if (hints[j].type.toString() === fieldType.toString()) {\n            sub = hints[j];\n            break;\n          }\n        }\n        if (sub) {\n          var subResult = decodeTypeDefsRec(sub, hints);\n          if (arrayLen === -1) {\n          }\n          else {\n            typeDefDict[fieldName] = [subResult];\n          }\n        }\n        else {\n          that.emit('error', 'Cannot find ' + fieldType + ' in decodeTypeDefs');\n        }\n      }\n    }\n    return typeDefDict;\n  };\n\n  return decodeTypeDefsRec(defs[0], defs);\n};\n\n\nmodule.exports = Ros;\n\n},{\"../util/workerSocket\":47,\"./Service\":16,\"./ServiceRequest\":17,\"./SocketAdapter.js\":19,\"eventemitter2\":2,\"object-assign\":3,\"ws\":43}],16:[function(require,module,exports){\n/**\n * @fileoverview\n * @author Brandon Alexander - baalexander@gmail.com\n */\n\nvar ServiceResponse = require('./ServiceResponse');\nvar ServiceRequest = require('./ServiceRequest');\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\n\n/**\n * A ROS service client.\n *\n * @constructor\n * @params options - possible keys include:\n *   * ros - the ROSLIB.Ros connection handle\n *   * name - the service name, like /add_two_ints\n *   * serviceType - the service type, like 'rospy_tutorials/AddTwoInts'\n */\nfunction Service(options) {\n  options = options || {};\n  this.ros = options.ros;\n  this.name = options.name;\n  this.serviceType = options.serviceType;\n  this.isAdvertised = false;\n\n  this._serviceCallback = null;\n}\nService.prototype.__proto__ = EventEmitter2.prototype;\n/**\n * Calls the service. Returns the service response in the\n * callback. Does nothing if this service is currently advertised.\n *\n * @param request - the ROSLIB.ServiceRequest to send\n * @param callback - function with params:\n *   * response - the response from the service request\n * @param failedCallback - the callback function when the service call failed (optional). Params:\n *   * error - the error message reported by ROS\n */\nService.prototype.callService = function(request, callback, failedCallback) {\n  if (this.isAdvertised) {\n    return;\n  }\n\n  var serviceCallId = 'call_service:' + this.name + ':' + (++this.ros.idCounter);\n\n  if (callback || failedCallback) {\n    this.ros.once(serviceCallId, function(message) {\n      if (message.result !== undefined && message.result === false) {\n        if (typeof failedCallback === 'function') {\n          failedCallback(message.values);\n        }\n      } else if (typeof callback === 'function') {\n        callback(new ServiceResponse(message.values));\n      }\n    });\n  }\n\n  var call = {\n    op : 'call_service',\n    id : serviceCallId,\n    service : this.name,\n    type: this.serviceType,\n    args : request\n  };\n  this.ros.callOnConnection(call);\n};\n\n/**\n * Advertise the service. This turns the Service object from a client\n * into a server. The callback will be called with every request\n * that's made on this service.\n *\n * @param callback - This works similarly to the callback for a C++ service and should take the following params:\n *   * request - the service request\n *   * response - an empty dictionary. Take care not to overwrite this. Instead, only modify the values within.\n *   It should return true if the service has finished successfully,\n *   i.e. without any fatal errors.\n */\nService.prototype.advertise = function(callback) {\n  if (this.isAdvertised || typeof callback !== 'function') {\n    return;\n  }\n\n  this._serviceCallback = callback;\n  this.ros.on(this.name, this._serviceResponse.bind(this));\n  this.ros.callOnConnection({\n    op: 'advertise_service',\n    type: this.serviceType,\n    service: this.name\n  });\n  this.isAdvertised = true;\n};\n\nService.prototype.unadvertise = function() {\n  if (!this.isAdvertised) {\n    return;\n  }\n  this.ros.callOnConnection({\n    op: 'unadvertise_service',\n    service: this.name\n  });\n  this.isAdvertised = false;\n};\n\nService.prototype._serviceResponse = function(rosbridgeRequest) {\n  var response = {};\n  var success = this._serviceCallback(rosbridgeRequest.args, response);\n\n  var call = {\n    op: 'service_response',\n    service: this.name,\n    values: new ServiceResponse(response),\n    result: success\n  };\n\n  if (rosbridgeRequest.id) {\n    call.id = rosbridgeRequest.id;\n  }\n\n  this.ros.callOnConnection(call);\n};\n\nmodule.exports = Service;\n\n},{\"./ServiceRequest\":17,\"./ServiceResponse\":18,\"eventemitter2\":2}],17:[function(require,module,exports){\n/**\n * @fileoverview\n * @author Brandon Alexander - balexander@willowgarage.com\n */\n\nvar assign = require('object-assign');\n\n/**\n * A ServiceRequest is passed into the service call.\n *\n * @constructor\n * @param values - object matching the fields defined in the .srv definition file\n */\nfunction ServiceRequest(values) {\n  assign(this, values);\n}\n\nmodule.exports = ServiceRequest;\n},{\"object-assign\":3}],18:[function(require,module,exports){\n/**\n * @fileoverview\n * @author Brandon Alexander - balexander@willowgarage.com\n */\n\nvar assign = require('object-assign');\n\n/**\n * A ServiceResponse is returned from the service call.\n *\n * @constructor\n * @param values - object matching the fields defined in the .srv definition file\n */\nfunction ServiceResponse(values) {\n  assign(this, values);\n}\n\nmodule.exports = ServiceResponse;\n},{\"object-assign\":3}],19:[function(require,module,exports){\n/**\n * Socket event handling utilities for handling events on either\n * WebSocket and TCP sockets\n *\n * Note to anyone reviewing this code: these functions are called\n * in the context of their parent object, unless bound\n * @fileOverview\n */\n'use strict';\n\nvar decompressPng = require('../util/decompressPng');\nvar CBOR = require('cbor-js');\nvar typedArrayTagger = require('../util/cborTypedArrayTags');\nvar BSON = null;\nif(typeof bson !== 'undefined'){\n    BSON = bson().BSON;\n}\n\n/**\n * Events listeners for a WebSocket or TCP socket to a JavaScript\n * ROS Client. Sets up Messages for a given topic to trigger an\n * event on the ROS client.\n *\n * @namespace SocketAdapter\n * @private\n */\nfunction SocketAdapter(client) {\n  function handleMessage(message) {\n    if (message.op === 'publish') {\n      client.emit(message.topic, message.msg);\n    } else if (message.op === 'service_response') {\n      client.emit(message.id, message);\n    } else if (message.op === 'call_service') {\n      client.emit(message.service, message);\n    } else if(message.op === 'status'){\n      if(message.id){\n        client.emit('status:'+message.id, message);\n      } else {\n        client.emit('status', message);\n      }\n    }\n  }\n\n  function handlePng(message, callback) {\n    if (message.op === 'png') {\n      decompressPng(message.data, callback);\n    } else {\n      callback(message);\n    }\n  }\n\n  function decodeBSON(data, callback) {\n    if (!BSON) {\n      throw 'Cannot process BSON encoded message without BSON header.';\n    }\n    var reader = new FileReader();\n    reader.onload  = function() {\n      var uint8Array = new Uint8Array(this.result);\n      var msg = BSON.deserialize(uint8Array);\n      callback(msg);\n    };\n    reader.readAsArrayBuffer(data);\n  }\n\n  return {\n    /**\n     * Emits a 'connection' event on WebSocket connection.\n     *\n     * @param event - the argument to emit with the event.\n     * @memberof SocketAdapter\n     */\n    onopen: function onOpen(event) {\n      client.isConnected = true;\n      client.emit('connection', event);\n    },\n\n    /**\n     * Emits a 'close' event on WebSocket disconnection.\n     *\n     * @param event - the argument to emit with the event.\n     * @memberof SocketAdapter\n     */\n    onclose: function onClose(event) {\n      client.isConnected = false;\n      client.emit('close', event);\n    },\n\n    /**\n     * Emits an 'error' event whenever there was an error.\n     *\n     * @param event - the argument to emit with the event.\n     * @memberof SocketAdapter\n     */\n    onerror: function onError(event) {\n      client.emit('error', event);\n    },\n\n    /**\n     * Parses message responses from rosbridge and sends to the appropriate\n     * topic, service, or param.\n     *\n     * @param message - the raw JSON message from rosbridge.\n     * @memberof SocketAdapter\n     */\n    onmessage: function onMessage(data) {\n      if (typeof Blob !== 'undefined' && data.data instanceof Blob) {\n        decodeBSON(data.data, function (message) {\n          handlePng(message, handleMessage);\n        });\n      } else if (data.data instanceof ArrayBuffer) {\n        var decoded = CBOR.decode(data.data, typedArrayTagger);\n        handleMessage(decoded);\n      } else {\n        var message = JSON.parse(typeof data === 'string' ? data : data.data);\n        handlePng(message, handleMessage);\n      }\n    }\n  };\n}\n\nmodule.exports = SocketAdapter;\n\n},{\"../util/cborTypedArrayTags\":42,\"../util/decompressPng\":45,\"cbor-js\":1}],20:[function(require,module,exports){\n/**\n * @fileoverview\n * @author Brandon Alexander - baalexander@gmail.com\n */\n\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\nvar Message = require('./Message');\n\n/**\n * Publish and/or subscribe to a topic in ROS.\n *\n * Emits the following events:\n *  * 'warning' - if there are any warning during the Topic creation\n *  * 'message' - the message data from rosbridge\n *\n * @constructor\n * @param options - object with following keys:\n *   * ros - the ROSLIB.Ros connection handle\n *   * name - the topic name, like /cmd_vel\n *   * messageType - the message type, like 'std_msgs/String'\n *   * compression - the type of compression to use, like 'png' or 'cbor'\n *   * throttle_rate - the rate (in ms in between messages) at which to throttle the topics\n *   * queue_size - the queue created at bridge side for re-publishing webtopics (defaults to 100)\n *   * latch - latch the topic when publishing\n *   * queue_length - the queue length at bridge side used when subscribing (defaults to 0, no queueing).\n *   * reconnect_on_close - the flag to enable resubscription and readvertisement on close event(defaults to true).\n */\nfunction Topic(options) {\n  options = options || {};\n  this.ros = options.ros;\n  this.name = options.name;\n  this.messageType = options.messageType;\n  this.isAdvertised = false;\n  this.compression = options.compression || 'none';\n  this.throttle_rate = options.throttle_rate || 0;\n  this.latch = options.latch || false;\n  this.queue_size = options.queue_size || 100;\n  this.queue_length = options.queue_length || 0;\n  this.reconnect_on_close = options.reconnect_on_close !== undefined ? options.reconnect_on_close : true;\n\n  // Check for valid compression types\n  if (this.compression && this.compression !== 'png' &&\n    this.compression !== 'cbor' && this.compression !== 'none') {\n    this.emit('warning', this.compression +\n      ' compression is not supported. No compression will be used.');\n    this.compression = 'none';\n  }\n\n  // Check if throttle rate is negative\n  if (this.throttle_rate < 0) {\n    this.emit('warning', this.throttle_rate + ' is not allowed. Set to 0');\n    this.throttle_rate = 0;\n  }\n\n  var that = this;\n  if (this.reconnect_on_close) {\n    this.callForSubscribeAndAdvertise = function(message) {\n      that.ros.callOnConnection(message);\n\n      that.waitForReconnect = false;\n      that.reconnectFunc = function() {\n        if(!that.waitForReconnect) {\n          that.waitForReconnect = true;\n          that.ros.callOnConnection(message);\n          that.ros.once('connection', function() {\n            that.waitForReconnect = false;\n          });\n        }\n      };\n      that.ros.on('close', that.reconnectFunc);\n    };\n  }\n  else {\n    this.callForSubscribeAndAdvertise = this.ros.callOnConnection;\n  }\n\n  this._messageCallback = function(data) {\n    that.emit('message', new Message(data));\n  };\n}\nTopic.prototype.__proto__ = EventEmitter2.prototype;\n\n/**\n * Every time a message is published for the given topic, the callback\n * will be called with the message object.\n *\n * @param callback - function with the following params:\n *   * message - the published message\n */\nTopic.prototype.subscribe = function(callback) {\n  if (typeof callback === 'function') {\n    this.on('message', callback);\n  }\n\n  if (this.subscribeId) { return; }\n  this.ros.on(this.name, this._messageCallback);\n  this.subscribeId = 'subscribe:' + this.name + ':' + (++this.ros.idCounter);\n\n  this.callForSubscribeAndAdvertise({\n    op: 'subscribe',\n    id: this.subscribeId,\n    type: this.messageType,\n    topic: this.name,\n    compression: this.compression,\n    throttle_rate: this.throttle_rate,\n    queue_length: this.queue_length\n  });\n};\n\n/**\n * Unregisters as a subscriber for the topic. Unsubscribing stop remove\n * all subscribe callbacks. To remove a call back, you must explicitly\n * pass the callback function in.\n *\n * @param callback - the optional callback to unregister, if\n *     * provided and other listeners are registered the topic won't\n *     * unsubscribe, just stop emitting to the passed listener\n */\nTopic.prototype.unsubscribe = function(callback) {\n  if (callback) {\n    this.off('message', callback);\n    // If there is any other callbacks still subscribed don't unsubscribe\n    if (this.listeners('message').length) { return; }\n  }\n  if (!this.subscribeId) { return; }\n  // Note: Don't call this.removeAllListeners, allow client to handle that themselves\n  this.ros.off(this.name, this._messageCallback);\n  if(this.reconnect_on_close) {\n    this.ros.off('close', this.reconnectFunc);\n  }\n  this.emit('unsubscribe');\n  this.ros.callOnConnection({\n    op: 'unsubscribe',\n    id: this.subscribeId,\n    topic: this.name\n  });\n  this.subscribeId = null;\n};\n\n\n/**\n * Registers as a publisher for the topic.\n */\nTopic.prototype.advertise = function() {\n  if (this.isAdvertised) {\n    return;\n  }\n  this.advertiseId = 'advertise:' + this.name + ':' + (++this.ros.idCounter);\n  this.callForSubscribeAndAdvertise({\n    op: 'advertise',\n    id: this.advertiseId,\n    type: this.messageType,\n    topic: this.name,\n    latch: this.latch,\n    queue_size: this.queue_size\n  });\n  this.isAdvertised = true;\n\n  if(!this.reconnect_on_close) {\n    var that = this;\n    this.ros.on('close', function() {\n      that.isAdvertised = false;\n    });\n  }\n};\n\n/**\n * Unregisters as a publisher for the topic.\n */\nTopic.prototype.unadvertise = function() {\n  if (!this.isAdvertised) {\n    return;\n  }\n  if(this.reconnect_on_close) {\n    this.ros.off('close', this.reconnectFunc);\n  }\n  this.emit('unadvertise');\n  this.ros.callOnConnection({\n    op: 'unadvertise',\n    id: this.advertiseId,\n    topic: this.name\n  });\n  this.isAdvertised = false;\n};\n\n/**\n * Publish the message.\n *\n * @param message - A ROSLIB.Message object.\n */\nTopic.prototype.publish = function(message) {\n  if (!this.isAdvertised) {\n    this.advertise();\n  }\n\n  this.ros.idCounter++;\n  var call = {\n    op: 'publish',\n    id: 'publish:' + this.name + ':' + this.ros.idCounter,\n    topic: this.name,\n    msg: message,\n    latch: this.latch\n  };\n  this.ros.callOnConnection(call);\n};\n\nmodule.exports = Topic;\n\n},{\"./Message\":13,\"eventemitter2\":2}],21:[function(require,module,exports){\nvar mixin = require('../mixin');\n\nvar core = module.exports = {\n    Ros: require('./Ros'),\n    Topic: require('./Topic'),\n    Message: require('./Message'),\n    Param: require('./Param'),\n    Service: require('./Service'),\n    ServiceRequest: require('./ServiceRequest'),\n    ServiceResponse: require('./ServiceResponse')\n};\n\nmixin(core.Ros, ['Param', 'Service', 'Topic'], core);\n\n},{\"../mixin\":27,\"./Message\":13,\"./Param\":14,\"./Ros\":15,\"./Service\":16,\"./ServiceRequest\":17,\"./ServiceResponse\":18,\"./Topic\":20}],22:[function(require,module,exports){\n/**\n * @fileoverview\n * @author David Gossow - dgossow@willowgarage.com\n */\n\nvar Vector3 = require('./Vector3');\nvar Quaternion = require('./Quaternion');\n\n/**\n * A Pose in 3D space. Values are copied into this object.\n *\n *  @constructor\n *  @param options - object with following keys:\n *   * position - the Vector3 describing the position\n *   * orientation - the ROSLIB.Quaternion describing the orientation\n */\nfunction Pose(options) {\n  options = options || {};\n  // copy the values into this object if they exist\n  this.position = new Vector3(options.position);\n  this.orientation = new Quaternion(options.orientation);\n}\n\n/**\n * Apply a transform against this pose.\n *\n * @param tf the transform\n */\nPose.prototype.applyTransform = function(tf) {\n  this.position.multiplyQuaternion(tf.rotation);\n  this.position.add(tf.translation);\n  var tmp = tf.rotation.clone();\n  tmp.multiply(this.orientation);\n  this.orientation = tmp;\n};\n\n/**\n * Clone a copy of this pose.\n *\n * @returns the cloned pose\n */\nPose.prototype.clone = function() {\n  return new Pose(this);\n};\n\n/**\n * Multiplies this pose with another pose without altering this pose.\n *\n * @returns Result of multiplication.\n */\nPose.prototype.multiply = function(pose) {\n  var p = pose.clone();\n  p.applyTransform({ rotation: this.orientation, translation: this.position });\n  return p;\n};\n\n/**\n * Computes the inverse of this pose.\n *\n * @returns Inverse of pose.\n */\nPose.prototype.getInverse = function() {\n  var inverse = this.clone();\n  inverse.orientation.invert();\n  inverse.position.multiplyQuaternion(inverse.orientation);\n  inverse.position.x *= -1;\n  inverse.position.y *= -1;\n  inverse.position.z *= -1;\n  return inverse;\n};\n\nmodule.exports = Pose;\n},{\"./Quaternion\":23,\"./Vector3\":25}],23:[function(require,module,exports){\n/**\n * @fileoverview\n * @author David Gossow - dgossow@willowgarage.com\n */\n\n/**\n * A Quaternion.\n *\n *  @constructor\n *  @param options - object with following keys:\n *   * x - the x value\n *   * y - the y value\n *   * z - the z value\n *   * w - the w value\n */\nfunction Quaternion(options) {\n  options = options || {};\n  this.x = options.x || 0;\n  this.y = options.y || 0;\n  this.z = options.z || 0;\n  this.w = (typeof options.w === 'number') ? options.w : 1;\n}\n\n/**\n * Perform a conjugation on this quaternion.\n */\nQuaternion.prototype.conjugate = function() {\n  this.x *= -1;\n  this.y *= -1;\n  this.z *= -1;\n};\n\n/**\n * Return the norm of this quaternion.\n */\nQuaternion.prototype.norm = function() {\n  return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n};\n\n/**\n * Perform a normalization on this quaternion.\n */\nQuaternion.prototype.normalize = function() {\n  var l = Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n  if (l === 0) {\n    this.x = 0;\n    this.y = 0;\n    this.z = 0;\n    this.w = 1;\n  } else {\n    l = 1 / l;\n    this.x = this.x * l;\n    this.y = this.y * l;\n    this.z = this.z * l;\n    this.w = this.w * l;\n  }\n};\n\n/**\n * Convert this quaternion into its inverse.\n */\nQuaternion.prototype.invert = function() {\n  this.conjugate();\n  this.normalize();\n};\n\n/**\n * Set the values of this quaternion to the product of itself and the given quaternion.\n *\n * @param q the quaternion to multiply with\n */\nQuaternion.prototype.multiply = function(q) {\n  var newX = this.x * q.w + this.y * q.z - this.z * q.y + this.w * q.x;\n  var newY = -this.x * q.z + this.y * q.w + this.z * q.x + this.w * q.y;\n  var newZ = this.x * q.y - this.y * q.x + this.z * q.w + this.w * q.z;\n  var newW = -this.x * q.x - this.y * q.y - this.z * q.z + this.w * q.w;\n  this.x = newX;\n  this.y = newY;\n  this.z = newZ;\n  this.w = newW;\n};\n\n/**\n * Clone a copy of this quaternion.\n *\n * @returns the cloned quaternion\n */\nQuaternion.prototype.clone = function() {\n  return new Quaternion(this);\n};\n\nmodule.exports = Quaternion;\n\n},{}],24:[function(require,module,exports){\n/**\n * @fileoverview\n * @author David Gossow - dgossow@willowgarage.com\n */\n\nvar Vector3 = require('./Vector3');\nvar Quaternion = require('./Quaternion');\n\n/**\n * A Transform in 3-space. Values are copied into this object.\n *\n *  @constructor\n *  @param options - object with following keys:\n *   * translation - the Vector3 describing the translation\n *   * rotation - the ROSLIB.Quaternion describing the rotation\n */\nfunction Transform(options) {\n  options = options || {};\n  // Copy the values into this object if they exist\n  this.translation = new Vector3(options.translation);\n  this.rotation = new Quaternion(options.rotation);\n}\n\n/**\n * Clone a copy of this transform.\n *\n * @returns the cloned transform\n */\nTransform.prototype.clone = function() {\n  return new Transform(this);\n};\n\nmodule.exports = Transform;\n},{\"./Quaternion\":23,\"./Vector3\":25}],25:[function(require,module,exports){\n/**\n * @fileoverview\n * @author David Gossow - dgossow@willowgarage.com\n */\n\n/**\n * A 3D vector.\n *\n *  @constructor\n *  @param options - object with following keys:\n *   * x - the x value\n *   * y - the y value\n *   * z - the z value\n */\nfunction Vector3(options) {\n  options = options || {};\n  this.x = options.x || 0;\n  this.y = options.y || 0;\n  this.z = options.z || 0;\n}\n\n/**\n * Set the values of this vector to the sum of itself and the given vector.\n *\n * @param v the vector to add with\n */\nVector3.prototype.add = function(v) {\n  this.x += v.x;\n  this.y += v.y;\n  this.z += v.z;\n};\n\n/**\n * Set the values of this vector to the difference of itself and the given vector.\n *\n * @param v the vector to subtract with\n */\nVector3.prototype.subtract = function(v) {\n  this.x -= v.x;\n  this.y -= v.y;\n  this.z -= v.z;\n};\n\n/**\n * Multiply the given Quaternion with this vector.\n *\n * @param q - the quaternion to multiply with\n */\nVector3.prototype.multiplyQuaternion = function(q) {\n  var ix = q.w * this.x + q.y * this.z - q.z * this.y;\n  var iy = q.w * this.y + q.z * this.x - q.x * this.z;\n  var iz = q.w * this.z + q.x * this.y - q.y * this.x;\n  var iw = -q.x * this.x - q.y * this.y - q.z * this.z;\n  this.x = ix * q.w + iw * -q.x + iy * -q.z - iz * -q.y;\n  this.y = iy * q.w + iw * -q.y + iz * -q.x - ix * -q.z;\n  this.z = iz * q.w + iw * -q.z + ix * -q.y - iy * -q.x;\n};\n\n/**\n * Clone a copy of this vector.\n *\n * @returns the cloned vector\n */\nVector3.prototype.clone = function() {\n  return new Vector3(this);\n};\n\nmodule.exports = Vector3;\n},{}],26:[function(require,module,exports){\nmodule.exports = {\n    Pose: require('./Pose'),\n    Quaternion: require('./Quaternion'),\n    Transform: require('./Transform'),\n    Vector3: require('./Vector3')\n};\n\n},{\"./Pose\":22,\"./Quaternion\":23,\"./Transform\":24,\"./Vector3\":25}],27:[function(require,module,exports){\n/**\n * Mixin a feature to the core/Ros prototype.\n * For example, mixin(Ros, ['Topic'], {Topic: <Topic>})\n * will add a topic bound to any Ros instances so a user\n * can call `var topic = ros.Topic({name: '/foo'});`\n *\n * @author Graeme Yeates - github.com/megawac\n */\nmodule.exports = function(Ros, classes, features) {\n    classes.forEach(function(className) {\n        var Class = features[className];\n        Ros.prototype[className] = function(options) {\n            options.ros = this;\n            return new Class(options);\n        };\n    });\n};\n\n},{}],28:[function(require,module,exports){\n/**\n * @fileoverview\n * @author David Gossow - dgossow@willowgarage.com\n */\n\nvar ActionClient = require('../actionlib/ActionClient');\nvar Goal = require('../actionlib/Goal');\n\nvar Service = require('../core/Service.js');\nvar ServiceRequest = require('../core/ServiceRequest.js');\n\nvar Transform = require('../math/Transform');\n\n/**\n * A TF Client that listens to TFs from tf2_web_republisher.\n *\n *  @constructor\n *  @param options - object with following keys:\n *   * ros - the ROSLIB.Ros connection handle\n *   * fixedFrame - the fixed frame, like /base_link\n *   * angularThres - the angular threshold for the TF republisher\n *   * transThres - the translation threshold for the TF republisher\n *   * rate - the rate for the TF republisher\n *   * updateDelay - the time (in ms) to wait after a new subscription\n *                   to update the TF republisher's list of TFs\n *   * topicTimeout - the timeout parameter for the TF republisher\n *   * serverName (optional) - the name of the tf2_web_republisher server\n *   * repubServiceName (optional) - the name of the republish_tfs service (non groovy compatibility mode only)\n *   \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t default: '/republish_tfs'\n */\nfunction TFClient(options) {\n  options = options || {};\n  this.ros = options.ros;\n  this.fixedFrame = options.fixedFrame || '/base_link';\n  this.angularThres = options.angularThres || 2.0;\n  this.transThres = options.transThres || 0.01;\n  this.rate = options.rate || 10.0;\n  this.updateDelay = options.updateDelay || 50;\n  var seconds = options.topicTimeout || 2.0;\n  var secs = Math.floor(seconds);\n  var nsecs = Math.floor((seconds - secs) * 1000000000);\n  this.topicTimeout = {\n    secs: secs,\n    nsecs: nsecs\n  };\n  this.serverName = options.serverName || '/tf2_web_republisher';\n  this.repubServiceName = options.repubServiceName || '/republish_tfs';\n\n  this.currentGoal = false;\n  this.currentTopic = false;\n  this.frameInfos = {};\n  this.republisherUpdateRequested = false;\n\n  // Create an Action client\n  this.actionClient = this.ros.ActionClient({\n    serverName : this.serverName,\n    actionName : 'tf2_web_republisher/TFSubscriptionAction',\n    omitStatus : true,\n    omitResult : true\n  });\n\n  // Create a Service client\n  this.serviceClient = this.ros.Service({\n    name: this.repubServiceName,\n    serviceType: 'tf2_web_republisher/RepublishTFs'\n  });\n}\n\n/**\n * Process the incoming TF message and send them out using the callback\n * functions.\n *\n * @param tf - the TF message from the server\n */\nTFClient.prototype.processTFArray = function(tf) {\n  var that = this;\n  tf.transforms.forEach(function(transform) {\n    var frameID = transform.child_frame_id;\n    if (frameID[0] === '/')\n    {\n      frameID = frameID.substring(1);\n    }\n    var info = this.frameInfos[frameID];\n    if (info) {\n      info.transform = new Transform({\n        translation : transform.transform.translation,\n        rotation : transform.transform.rotation\n      });\n      info.cbs.forEach(function(cb) {\n        cb(info.transform);\n      });\n    }\n  }, this);\n};\n\n/**\n * Create and send a new goal (or service request) to the tf2_web_republisher\n * based on the current list of TFs.\n */\nTFClient.prototype.updateGoal = function() {\n  var goalMessage = {\n    source_frames : Object.keys(this.frameInfos),\n    target_frame : this.fixedFrame,\n    angular_thres : this.angularThres,\n    trans_thres : this.transThres,\n    rate : this.rate\n  };\n\n  // if we're running in groovy compatibility mode (the default)\n  // then use the action interface to tf2_web_republisher\n  if(this.ros.groovyCompatibility) {\n    if (this.currentGoal) {\n      this.currentGoal.cancel();\n    }\n    this.currentGoal = new Goal({\n      actionClient : this.actionClient,\n      goalMessage : goalMessage\n    });\n\n    this.currentGoal.on('feedback', this.processTFArray.bind(this));\n    this.currentGoal.send();\n  }\n  else {\n    // otherwise, use the service interface\n    // The service interface has the same parameters as the action,\n    // plus the timeout\n    goalMessage.timeout = this.topicTimeout;\n    var request = new ServiceRequest(goalMessage);\n\n    this.serviceClient.callService(request, this.processResponse.bind(this));\n  }\n\n  this.republisherUpdateRequested = false;\n};\n\n/**\n * Process the service response and subscribe to the tf republisher\n * topic\n *\n * @param response the service response containing the topic name\n */\nTFClient.prototype.processResponse = function(response) {\n  // if we subscribed to a topic before, unsubscribe so\n  // the republisher stops publishing it\n  if (this.currentTopic) {\n    this.currentTopic.unsubscribe();\n  }\n\n  this.currentTopic = this.ros.Topic({\n    name: response.topic_name,\n    messageType: 'tf2_web_republisher/TFArray'\n  });\n  this.currentTopic.subscribe(this.processTFArray.bind(this));\n};\n\n/**\n * Subscribe to the given TF frame.\n *\n * @param frameID - the TF frame to subscribe to\n * @param callback - function with params:\n *   * transform - the transform data\n */\nTFClient.prototype.subscribe = function(frameID, callback) {\n  // remove leading slash, if it's there\n  if (frameID[0] === '/')\n  {\n    frameID = frameID.substring(1);\n  }\n  // if there is no callback registered for the given frame, create emtpy callback list\n  if (!this.frameInfos[frameID]) {\n    this.frameInfos[frameID] = {\n      cbs: []\n    };\n    if (!this.republisherUpdateRequested) {\n      setTimeout(this.updateGoal.bind(this), this.updateDelay);\n      this.republisherUpdateRequested = true;\n    }\n  }\n  // if we already have a transform, call back immediately\n  else if (this.frameInfos[frameID].transform) {\n    callback(this.frameInfos[frameID].transform);\n  }\n  this.frameInfos[frameID].cbs.push(callback);\n};\n\n/**\n * Unsubscribe from the given TF frame.\n *\n * @param frameID - the TF frame to unsubscribe from\n * @param callback - the callback function to remove\n */\nTFClient.prototype.unsubscribe = function(frameID, callback) {\n  // remove leading slash, if it's there\n  if (frameID[0] === '/')\n  {\n    frameID = frameID.substring(1);\n  }\n  var info = this.frameInfos[frameID];\n  for (var cbs = info && info.cbs || [], idx = cbs.length; idx--;) {\n    if (cbs[idx] === callback) {\n      cbs.splice(idx, 1);\n    }\n  }\n  if (!callback || cbs.length === 0) {\n    delete this.frameInfos[frameID];\n  }\n};\n\n/**\n * Unsubscribe and unadvertise all topics associated with this TFClient.\n */\nTFClient.prototype.dispose = function() {\n  this.actionClient.dispose();\n  if (this.currentTopic) {\n    this.currentTopic.unsubscribe();\n  }\n};\n\nmodule.exports = TFClient;\n\n},{\"../actionlib/ActionClient\":8,\"../actionlib/Goal\":10,\"../core/Service.js\":16,\"../core/ServiceRequest.js\":17,\"../math/Transform\":24}],29:[function(require,module,exports){\nvar Ros = require('../core/Ros');\nvar mixin = require('../mixin');\n\nvar tf = module.exports = {\n    TFClient: require('./TFClient')\n};\n\nmixin(Ros, ['TFClient'], tf);\n},{\"../core/Ros\":15,\"../mixin\":27,\"./TFClient\":28}],30:[function(require,module,exports){\n/**\n * @fileOverview \n * @author Benjamin Pitzer - ben.pitzer@gmail.com\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar Vector3 = require('../math/Vector3');\nvar UrdfTypes = require('./UrdfTypes');\n\n/**\n * A Box element in a URDF.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n */\nfunction UrdfBox(options) {\n  this.dimension = null;\n  this.type = UrdfTypes.URDF_BOX;\n\n  // Parse the xml string\n  var xyz = options.xml.getAttribute('size').split(' ');\n  this.dimension = new Vector3({\n    x : parseFloat(xyz[0]),\n    y : parseFloat(xyz[1]),\n    z : parseFloat(xyz[2])\n  });\n}\n\nmodule.exports = UrdfBox;\n},{\"../math/Vector3\":25,\"./UrdfTypes\":39}],31:[function(require,module,exports){\n/**\n * @fileOverview \n * @author Benjamin Pitzer - ben.pitzer@gmail.com\n * @author Russell Toris - rctoris@wpi.edu\n */\n\n/**\n * A Color element in a URDF.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n */\nfunction UrdfColor(options) {\n  // Parse the xml string\n  var rgba = options.xml.getAttribute('rgba').split(' ');\n  this.r = parseFloat(rgba[0]);\n  this.g = parseFloat(rgba[1]);\n  this.b = parseFloat(rgba[2]);\n  this.a = parseFloat(rgba[3]);\n}\n\nmodule.exports = UrdfColor;\n},{}],32:[function(require,module,exports){\n/**\n * @fileOverview \n * @author Benjamin Pitzer - ben.pitzer@gmail.com\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar UrdfTypes = require('./UrdfTypes');\n\n/**\n * A Cylinder element in a URDF.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n */\nfunction UrdfCylinder(options) {\n  this.type = UrdfTypes.URDF_CYLINDER;\n  this.length = parseFloat(options.xml.getAttribute('length'));\n  this.radius = parseFloat(options.xml.getAttribute('radius'));\n}\n\nmodule.exports = UrdfCylinder;\n},{\"./UrdfTypes\":39}],33:[function(require,module,exports){\n/**\n * @fileOverview\n * @author David V. Lu!!  davidvlu@gmail.com\n */\n\nvar Pose = require('../math/Pose');\nvar Vector3 = require('../math/Vector3');\nvar Quaternion = require('../math/Quaternion');\n\n/**\n * A Joint element in a URDF.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n */\nfunction UrdfJoint(options) {\n  this.name = options.xml.getAttribute('name');\n  this.type = options.xml.getAttribute('type');\n\n  var parents = options.xml.getElementsByTagName('parent');\n  if(parents.length > 0) {\n    this.parent = parents[0].getAttribute('link');\n  }\n\n  var children = options.xml.getElementsByTagName('child');\n  if(children.length > 0) {\n    this.child = children[0].getAttribute('link');\n  }\n\n  var limits = options.xml.getElementsByTagName('limit');\n  if (limits.length > 0) {\n    this.minval = parseFloat( limits[0].getAttribute('lower') );\n    this.maxval = parseFloat( limits[0].getAttribute('upper') );\n  }\n\n  // Origin\n  var origins = options.xml.getElementsByTagName('origin');\n  if (origins.length === 0) {\n    // use the identity as the default\n    this.origin = new Pose();\n  } else {\n    // Check the XYZ\n    var xyz = origins[0].getAttribute('xyz');\n    var position = new Vector3();\n    if (xyz) {\n      xyz = xyz.split(' ');\n      position = new Vector3({\n        x : parseFloat(xyz[0]),\n        y : parseFloat(xyz[1]),\n        z : parseFloat(xyz[2])\n      });\n    }\n\n    // Check the RPY\n    var rpy = origins[0].getAttribute('rpy');\n    var orientation = new Quaternion();\n    if (rpy) {\n      rpy = rpy.split(' ');\n      // Convert from RPY\n      var roll = parseFloat(rpy[0]);\n      var pitch = parseFloat(rpy[1]);\n      var yaw = parseFloat(rpy[2]);\n      var phi = roll / 2.0;\n      var the = pitch / 2.0;\n      var psi = yaw / 2.0;\n      var x = Math.sin(phi) * Math.cos(the) * Math.cos(psi) - Math.cos(phi) * Math.sin(the)\n          * Math.sin(psi);\n      var y = Math.cos(phi) * Math.sin(the) * Math.cos(psi) + Math.sin(phi) * Math.cos(the)\n          * Math.sin(psi);\n      var z = Math.cos(phi) * Math.cos(the) * Math.sin(psi) - Math.sin(phi) * Math.sin(the)\n          * Math.cos(psi);\n      var w = Math.cos(phi) * Math.cos(the) * Math.cos(psi) + Math.sin(phi) * Math.sin(the)\n          * Math.sin(psi);\n\n      orientation = new Quaternion({\n        x : x,\n        y : y,\n        z : z,\n        w : w\n      });\n      orientation.normalize();\n    }\n    this.origin = new Pose({\n      position : position,\n      orientation : orientation\n    });\n  }\n}\n\nmodule.exports = UrdfJoint;\n\n},{\"../math/Pose\":22,\"../math/Quaternion\":23,\"../math/Vector3\":25}],34:[function(require,module,exports){\n/**\n * @fileOverview \n * @author Benjamin Pitzer - ben.pitzer@gmail.com\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar UrdfVisual = require('./UrdfVisual');\n\n/**\n * A Link element in a URDF.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n */\nfunction UrdfLink(options) {\n  this.name = options.xml.getAttribute('name');\n  this.visuals = [];\n  var visuals = options.xml.getElementsByTagName('visual');\n\n  for( var i=0; i<visuals.length; i++ ) {\n    this.visuals.push( new UrdfVisual({\n      xml : visuals[i]\n    }) );\n  }\n}\n\nmodule.exports = UrdfLink;\n},{\"./UrdfVisual\":40}],35:[function(require,module,exports){\n/**\n * @fileOverview \n * @author Benjamin Pitzer - ben.pitzer@gmail.com\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar UrdfColor = require('./UrdfColor');\n\n/**\n * A Material element in a URDF.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n */\nfunction UrdfMaterial(options) {\n  this.textureFilename = null;\n  this.color = null;\n\n  this.name = options.xml.getAttribute('name');\n\n  // Texture\n  var textures = options.xml.getElementsByTagName('texture');\n  if (textures.length > 0) {\n    this.textureFilename = textures[0].getAttribute('filename');\n  }\n\n  // Color\n  var colors = options.xml.getElementsByTagName('color');\n  if (colors.length > 0) {\n    // Parse the RBGA string\n    this.color = new UrdfColor({\n      xml : colors[0]\n    });\n  }\n}\n\nUrdfMaterial.prototype.isLink = function() {\n  return this.color === null && this.textureFilename === null;\n};\n\nvar assign = require('object-assign');\n\nUrdfMaterial.prototype.assign = function(obj) {\n    return assign(this, obj);\n};\n\nmodule.exports = UrdfMaterial;\n\n},{\"./UrdfColor\":31,\"object-assign\":3}],36:[function(require,module,exports){\n/**\n * @fileOverview \n * @author Benjamin Pitzer - ben.pitzer@gmail.com\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar Vector3 = require('../math/Vector3');\nvar UrdfTypes = require('./UrdfTypes');\n\n/**\n * A Mesh element in a URDF.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n */\nfunction UrdfMesh(options) {\n  this.scale = null;\n\n  this.type = UrdfTypes.URDF_MESH;\n  this.filename = options.xml.getAttribute('filename');\n\n  // Check for a scale\n  var scale = options.xml.getAttribute('scale');\n  if (scale) {\n    // Get the XYZ\n    var xyz = scale.split(' ');\n    this.scale = new Vector3({\n      x : parseFloat(xyz[0]),\n      y : parseFloat(xyz[1]),\n      z : parseFloat(xyz[2])\n    });\n  }\n}\n\nmodule.exports = UrdfMesh;\n},{\"../math/Vector3\":25,\"./UrdfTypes\":39}],37:[function(require,module,exports){\n/**\n * @fileOverview \n * @author Benjamin Pitzer - ben.pitzer@gmail.com\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar UrdfMaterial = require('./UrdfMaterial');\nvar UrdfLink = require('./UrdfLink');\nvar UrdfJoint = require('./UrdfJoint');\nvar DOMParser = require('xmldom').DOMParser;\n\n// See https://developer.mozilla.org/docs/XPathResult#Constants\nvar XPATH_FIRST_ORDERED_NODE_TYPE = 9;\n\n/**\n * A URDF Model can be used to parse a given URDF into the appropriate elements.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n *  * string - the XML element to parse as a string\n */\nfunction UrdfModel(options) {\n  options = options || {};\n  var xmlDoc = options.xml;\n  var string = options.string;\n  this.materials = {};\n  this.links = {};\n  this.joints = {};\n\n  // Check if we are using a string or an XML element\n  if (string) {\n    // Parse the string\n    var parser = new DOMParser();\n    xmlDoc = parser.parseFromString(string, 'text/xml');\n  }\n\n  // Initialize the model with the given XML node.\n  // Get the robot tag\n  var robotXml = xmlDoc.documentElement;\n\n  // Get the robot name\n  this.name = robotXml.getAttribute('name');\n\n  // Parse all the visual elements we need\n  for (var nodes = robotXml.childNodes, i = 0; i < nodes.length; i++) {\n    var node = nodes[i];\n    if (node.tagName === 'material') {\n      var material = new UrdfMaterial({\n        xml : node\n      });\n      // Make sure this is unique\n      if (this.materials[material.name] !== void 0) {\n        if( this.materials[material.name].isLink() ) {\n          this.materials[material.name].assign( material );\n        } else {\n          console.warn('Material ' + material.name + 'is not unique.');\n        }\n      } else {\n        this.materials[material.name] = material;\n      }\n    } else if (node.tagName === 'link') {\n      var link = new UrdfLink({\n        xml : node\n      });\n      // Make sure this is unique\n      if (this.links[link.name] !== void 0) {\n        console.warn('Link ' + link.name + ' is not unique.');\n      } else {\n        // Check for a material\n        for( var j=0; j<link.visuals.length; j++ )\n        {\n          var mat = link.visuals[j].material; \n          if ( mat !== null ) {\n            if (this.materials[mat.name] !== void 0) {\n              link.visuals[j].material = this.materials[mat.name];\n            } else {\n              this.materials[mat.name] = mat;\n            }\n          }\n        }\n\n        // Add the link\n        this.links[link.name] = link;\n      }\n    } else if (node.tagName === 'joint') {\n      var joint = new UrdfJoint({\n        xml : node\n      });\n      this.joints[joint.name] = joint;\n    }\n  }\n}\n\nmodule.exports = UrdfModel;\n\n},{\"./UrdfJoint\":33,\"./UrdfLink\":34,\"./UrdfMaterial\":35,\"xmldom\":46}],38:[function(require,module,exports){\n/**\n * @fileOverview \n * @author Benjamin Pitzer - ben.pitzer@gmail.com\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar UrdfTypes = require('./UrdfTypes');\n\n/**\n * A Sphere element in a URDF.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n */\nfunction UrdfSphere(options) {\n  this.type = UrdfTypes.URDF_SPHERE;\n  this.radius = parseFloat(options.xml.getAttribute('radius'));\n}\n\nmodule.exports = UrdfSphere;\n},{\"./UrdfTypes\":39}],39:[function(require,module,exports){\nmodule.exports = {\n\tURDF_SPHERE : 0,\n\tURDF_BOX : 1,\n\tURDF_CYLINDER : 2,\n\tURDF_MESH : 3\n};\n\n},{}],40:[function(require,module,exports){\n/**\n * @fileOverview \n * @author Benjamin Pitzer - ben.pitzer@gmail.com\n * @author Russell Toris - rctoris@wpi.edu\n */\n\nvar Pose = require('../math/Pose');\nvar Vector3 = require('../math/Vector3');\nvar Quaternion = require('../math/Quaternion');\n\nvar UrdfCylinder = require('./UrdfCylinder');\nvar UrdfBox = require('./UrdfBox');\nvar UrdfMaterial = require('./UrdfMaterial');\nvar UrdfMesh = require('./UrdfMesh');\nvar UrdfSphere = require('./UrdfSphere');\n\n/**\n * A Visual element in a URDF.\n *\n * @constructor\n * @param options - object with following keys:\n *  * xml - the XML element to parse\n */\nfunction UrdfVisual(options) {\n  var xml = options.xml;\n  this.origin = null;\n  this.geometry = null;\n  this.material = null;\n\n  // Origin\n  var origins = xml.getElementsByTagName('origin');\n  if (origins.length === 0) {\n    // use the identity as the default\n    this.origin = new Pose();\n  } else {\n    // Check the XYZ\n    var xyz = origins[0].getAttribute('xyz');\n    var position = new Vector3();\n    if (xyz) {\n      xyz = xyz.split(' ');\n      position = new Vector3({\n        x : parseFloat(xyz[0]),\n        y : parseFloat(xyz[1]),\n        z : parseFloat(xyz[2])\n      });\n    }\n\n    // Check the RPY\n    var rpy = origins[0].getAttribute('rpy');\n    var orientation = new Quaternion();\n    if (rpy) {\n      rpy = rpy.split(' ');\n      // Convert from RPY\n      var roll = parseFloat(rpy[0]);\n      var pitch = parseFloat(rpy[1]);\n      var yaw = parseFloat(rpy[2]);\n      var phi = roll / 2.0;\n      var the = pitch / 2.0;\n      var psi = yaw / 2.0;\n      var x = Math.sin(phi) * Math.cos(the) * Math.cos(psi) - Math.cos(phi) * Math.sin(the)\n          * Math.sin(psi);\n      var y = Math.cos(phi) * Math.sin(the) * Math.cos(psi) + Math.sin(phi) * Math.cos(the)\n          * Math.sin(psi);\n      var z = Math.cos(phi) * Math.cos(the) * Math.sin(psi) - Math.sin(phi) * Math.sin(the)\n          * Math.cos(psi);\n      var w = Math.cos(phi) * Math.cos(the) * Math.cos(psi) + Math.sin(phi) * Math.sin(the)\n          * Math.sin(psi);\n\n      orientation = new Quaternion({\n        x : x,\n        y : y,\n        z : z,\n        w : w\n      });\n      orientation.normalize();\n    }\n    this.origin = new Pose({\n      position : position,\n      orientation : orientation\n    });\n  }\n\n  // Geometry\n  var geoms = xml.getElementsByTagName('geometry');\n  if (geoms.length > 0) {\n    var geom = geoms[0];\n    var shape = null;\n    // Check for the shape\n    for (var i = 0; i < geom.childNodes.length; i++) {\n      var node = geom.childNodes[i];\n      if (node.nodeType === 1) {\n        shape = node;\n        break;\n      }\n    }\n    // Check the type\n    var type = shape.nodeName;\n    if (type === 'sphere') {\n      this.geometry = new UrdfSphere({\n        xml : shape\n      });\n    } else if (type === 'box') {\n      this.geometry = new UrdfBox({\n        xml : shape\n      });\n    } else if (type === 'cylinder') {\n      this.geometry = new UrdfCylinder({\n        xml : shape\n      });\n    } else if (type === 'mesh') {\n      this.geometry = new UrdfMesh({\n        xml : shape\n      });\n    } else {\n      console.warn('Unknown geometry type ' + type);\n    }\n  }\n\n  // Material\n  var materials = xml.getElementsByTagName('material');\n  if (materials.length > 0) {\n    this.material = new UrdfMaterial({\n      xml : materials[0]\n    });\n  }\n}\n\nmodule.exports = UrdfVisual;\n},{\"../math/Pose\":22,\"../math/Quaternion\":23,\"../math/Vector3\":25,\"./UrdfBox\":30,\"./UrdfCylinder\":32,\"./UrdfMaterial\":35,\"./UrdfMesh\":36,\"./UrdfSphere\":38}],41:[function(require,module,exports){\nmodule.exports = require('object-assign')({\n    UrdfBox: require('./UrdfBox'),\n    UrdfColor: require('./UrdfColor'),\n    UrdfCylinder: require('./UrdfCylinder'),\n    UrdfLink: require('./UrdfLink'),\n    UrdfMaterial: require('./UrdfMaterial'),\n    UrdfMesh: require('./UrdfMesh'),\n    UrdfModel: require('./UrdfModel'),\n    UrdfSphere: require('./UrdfSphere'),\n    UrdfVisual: require('./UrdfVisual')\n}, require('./UrdfTypes'));\n\n},{\"./UrdfBox\":30,\"./UrdfColor\":31,\"./UrdfCylinder\":32,\"./UrdfLink\":34,\"./UrdfMaterial\":35,\"./UrdfMesh\":36,\"./UrdfModel\":37,\"./UrdfSphere\":38,\"./UrdfTypes\":39,\"./UrdfVisual\":40,\"object-assign\":3}],42:[function(require,module,exports){\n'use strict';\n\nvar UPPER32 = Math.pow(2, 32);\n\nvar warnedPrecision = false;\nfunction warnPrecision() {\n  if (!warnedPrecision) {\n    warnedPrecision = true;\n    console.warn('CBOR 64-bit integer array values may lose precision. No further warnings.');\n  }\n}\n\n/**\n * Unpacks 64-bit unsigned integer from byte array.\n * @param {Uint8Array} bytes\n*/\nfunction decodeUint64LE(bytes) {\n  warnPrecision();\n\n  var byteLen = bytes.byteLength;\n  var offset = bytes.byteOffset;\n  var arrLen = byteLen / 8;\n\n  var buffer = bytes.buffer.slice(offset, offset + byteLen);\n  var uint32View = new Uint32Array(buffer);\n\n  var arr = new Array(arrLen);\n  for (var i = 0; i < arrLen; i++) {\n    var si = i * 2;\n    var lo = uint32View[si];\n    var hi = uint32View[si+1];\n    arr[i] = lo + UPPER32 * hi;\n  }\n\n  return arr;\n}\n\n/**\n * Unpacks 64-bit signed integer from byte array.\n * @param {Uint8Array} bytes\n*/\nfunction decodeInt64LE(bytes) {\n  warnPrecision();\n\n  var byteLen = bytes.byteLength;\n  var offset = bytes.byteOffset;\n  var arrLen = byteLen / 8;\n\n  var buffer = bytes.buffer.slice(offset, offset + byteLen);\n  var uint32View = new Uint32Array(buffer);\n  var int32View = new Int32Array(buffer);\n\n  var arr = new Array(arrLen);\n  for (var i = 0; i < arrLen; i++) {\n    var si = i * 2;\n    var lo = uint32View[si];\n    var hi = int32View[si+1];\n    arr[i] = lo + UPPER32 * hi;\n  }\n\n  return arr;\n}\n\n/**\n * Unpacks typed array from byte array.\n * @param {Uint8Array} bytes\n * @param {type} ArrayType - desired output array type\n*/\nfunction decodeNativeArray(bytes, ArrayType) {\n  var byteLen = bytes.byteLength;\n  var offset = bytes.byteOffset;\n  var buffer = bytes.buffer.slice(offset, offset + byteLen);\n  return new ArrayType(buffer);\n}\n\n/**\n * Support a subset of draft CBOR typed array tags:\n *   <https://tools.ietf.org/html/draft-ietf-cbor-array-tags-00>\n * Only support little-endian tags for now.\n */\nvar nativeArrayTypes = {\n  64: Uint8Array,\n  69: Uint16Array,\n  70: Uint32Array,\n  72: Int8Array,\n  77: Int16Array,\n  78: Int32Array,\n  85: Float32Array,\n  86: Float64Array\n};\n\n/**\n * We can also decode 64-bit integer arrays, since ROS has these types.\n */\nvar conversionArrayTypes = {\n  71: decodeUint64LE,\n  79: decodeInt64LE\n};\n\n/**\n * Handles CBOR typed array tags during decoding.\n * @param {Uint8Array} data\n * @param {Number} tag\n */\nfunction cborTypedArrayTagger(data, tag) {\n  if (tag in nativeArrayTypes) {\n    var arrayType = nativeArrayTypes[tag];\n    return decodeNativeArray(data, arrayType);\n  }\n  if (tag in conversionArrayTypes) {\n    return conversionArrayTypes[tag](data);\n  }\n  return data;\n}\n\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = cborTypedArrayTagger;\n}\n\n},{}],43:[function(require,module,exports){\nmodule.exports = typeof window !== 'undefined' ? window.WebSocket : WebSocket;\n\n},{}],44:[function(require,module,exports){\n/* global document */\nmodule.exports = function Canvas() {\n\treturn document.createElement('canvas');\n};\n},{}],45:[function(require,module,exports){\n/**\n * @fileOverview\n * @author Graeme Yeates - github.com/megawac\n */\n\n'use strict';\n\nvar Canvas = require('canvas');\nvar Image = Canvas.Image || window.Image;\n\n/**\n * If a message was compressed as a PNG image (a compression hack since\n * gzipping over WebSockets * is not supported yet), this function places the\n * \"image\" in a canvas element then decodes the * \"image\" as a Base64 string.\n *\n * @private\n * @param data - object containing the PNG data.\n * @param callback - function with params:\n *   * data - the uncompressed data\n */\nfunction decompressPng(data, callback) {\n  // Uncompresses the data before sending it through (use image/canvas to do so).\n  var image = new Image();\n  // When the image loads, extracts the raw data (JSON message).\n  image.onload = function() {\n    // Creates a local canvas to draw on.\n    var canvas = new Canvas();\n    var context = canvas.getContext('2d');\n\n    // Sets width and height.\n    canvas.width = image.width;\n    canvas.height = image.height;\n\n    // Prevents anti-aliasing and loosing data\n    context.imageSmoothingEnabled = false;\n    context.webkitImageSmoothingEnabled = false;\n    context.mozImageSmoothingEnabled = false;\n\n    // Puts the data into the image.\n    context.drawImage(image, 0, 0);\n    // Grabs the raw, uncompressed data.\n    var imageData = context.getImageData(0, 0, image.width, image.height).data;\n\n    // Constructs the JSON.\n    var jsonData = '';\n    for (var i = 0; i < imageData.length; i += 4) {\n      // RGB\n      jsonData += String.fromCharCode(imageData[i], imageData[i + 1], imageData[i + 2]);\n    }\n    callback(JSON.parse(jsonData));\n  };\n  // Sends the image data to load.\n  image.src = 'data:image/png;base64,' + data;\n}\n\nmodule.exports = decompressPng;\n\n},{\"canvas\":44}],46:[function(require,module,exports){\nexports.DOMImplementation = window.DOMImplementation;\nexports.XMLSerializer = window.XMLSerializer;\nexports.DOMParser = window.DOMParser;\n\n},{}],47:[function(require,module,exports){\nvar work = require('webworkify');\nvar workerSocketImpl = require('./workerSocketImpl');\n\nfunction WorkerSocket(uri) {\n  this.socket_ = work(workerSocketImpl);\n\n  this.socket_.addEventListener('message', this.handleWorkerMessage_.bind(this));\n\n  this.socket_.postMessage({\n    uri: uri,\n  });\n}\n\nWorkerSocket.prototype.handleWorkerMessage_ = function(ev) {\n  var data = ev.data;\n  if (data instanceof ArrayBuffer || typeof data === 'string') {\n    // binary or JSON message from rosbridge\n    this.onmessage(ev);\n  } else {\n    // control message from the wrapped WebSocket\n    var type = data.type;\n    if (type === 'close') {\n      this.onclose(null);\n    } else if (type === 'open') {\n      this.onopen(null);\n    } else if (type === 'error') {\n      this.onerror(null);\n    } else {\n      throw 'Unknown message from workersocket';\n    }\n  }\n};\n\nWorkerSocket.prototype.send = function(data) {\n  this.socket_.postMessage(data);\n};\n\nWorkerSocket.prototype.close = function() {\n  this.socket_.postMessage({\n    close: true\n  });\n};\n\nmodule.exports = WorkerSocket;\n\n},{\"./workerSocketImpl\":48,\"webworkify\":5}],48:[function(require,module,exports){\nvar WebSocket = WebSocket || require('ws');\n\nmodule.exports = function(self) {\n  var socket = null;\n\n  function handleSocketMessage(ev) {\n    var data = ev.data;\n\n    if (data instanceof ArrayBuffer) {\n      // binary message, transfer for speed\n      self.postMessage(data, [data]);\n    } else {\n      // JSON message, copy string\n      self.postMessage(data);\n    }\n  }\n\n  function handleSocketControl(ev) {\n    self.postMessage({type: ev.type});\n  }\n\n  self.addEventListener('message', function(ev) {\n    var data = ev.data;\n\n    if (typeof data === 'string') {\n      // JSON message from ROSLIB\n      socket.send(data);\n    } else {\n      // control message\n      if (data.hasOwnProperty('close')) {\n        socket.close();\n        socket = null;\n      } else if (data.hasOwnProperty('uri')) {\n        var uri = data.uri;\n\n        socket = new WebSocket(uri);\n        socket.binaryType = 'arraybuffer';\n\n        socket.onmessage = handleSocketMessage;\n        socket.onclose = handleSocketControl;\n        socket.onopen = handleSocketControl;\n        socket.onerror = handleSocketControl;\n      } else {\n        throw 'Unknown message to WorkerSocket';\n      }\n    }\n  });\n};\n\n},{\"ws\":43}]},{},[7]);\n"]}